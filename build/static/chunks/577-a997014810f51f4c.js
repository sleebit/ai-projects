(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{2204:function(e){"use strict";let t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,o=RegExp("^"+a.source),s=RegExp(a.source+i.source,"gu"),l=RegExp("\\d+"+i.source,"gu"),u=(e,r,i)=>{let a=!1,o=!1,s=!1;for(let l=0;l<e.length;l++){let u=e[l];a&&t.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),a=!1,s=o,o=!0,l++):o&&s&&n.test(u)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),s=o,o=!1,a=!0):(a=r(u)===u&&i(u)!==u,s=o,o=i(u)===u&&r(u)!==u)}return e},c=(e,t)=>(r.lastIndex=0,e.replace(r,e=>t(e))),p=(e,t)=>(s.lastIndex=0,l.lastIndex=0,e.replace(s,(e,n)=>t(n)).replace(l,e=>t(e))),d=(e,t)=>{if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),r=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);if(1===e.length)return t.pascalCase?r(e):n(e);let i=e!==n(e);return i&&(e=u(e,n,r)),e=e.replace(o,""),e=t.preserveConsecutiveUppercase?c(e,n):n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),p(e,r)};e.exports=d,e.exports.default=d},59380:function(e){"use strict";e.exports=function(e,t){if("string"!=typeof e)throw TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},28958:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=Array(p-1);d<p;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},772:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},64596:function(e,t,n){"use strict";e=n.nmd(e);let r=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,i=(e=0)=>(t,n,r)=>`\u001B[${38+e};2;${t};${n};${r}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};for(let[n,r]of(t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright,Object.entries(t))){for(let[n,i]of Object.entries(r))t[n]={open:`\u001B[${i[0]}m`,close:`\u001B[${i[1]}m`},r[n]=t[n],e.set(i[0],i[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=r(),t.color.ansi16m=i(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=i(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map(e=>e+e).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},61750:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(86006),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(e,t)=>{let n=(0,r.forwardRef)(({color:n="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:u,...c},p)=>(0,r.createElement)("svg",{ref:p,...i,width:o,height:o,stroke:n,strokeWidth:l?24*Number(s)/Number(o):s,className:`lucide lucide-${a(e)}`,...c},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${e}`,n}},57548:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61750);let i=(0,r.Z)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},1816:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61750);let i=(0,r.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},52040:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(66003)},66003:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l=[],u=!1,c=-1;function p(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}},o=!0;try{t[e](a,a.exports,r),o=!1}finally{o&&delete n[e]}return a.exports}r.ab="//";var i=r(229);e.exports=i}()},23053:function(e){e.exports=(function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);throw Error("Cannot find module '"+o+"'")}s=n[o]={exports:{}},t[o][0].call(s.exports,function(e){return i(t[o][1][e]||e)},s,s.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){(function(r,i,a,o,s,l,u,c,p){"use strict";var d=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=g(e,t)).algorithm?d.createHash(t.algorithm):new v).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var f=d.getHashes?d.getHashes().slice():["sha1","md5"],m=(f.push("passthrough"),["buffer","hex","binary","base64"]);function g(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var r=0;r<f.length;++r)f[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=f[r]);if(-1===f.indexOf(n.algorithm))throw Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+f.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function b(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,o=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(o);if(s=(s=s?s[1]:"unknown:["+o+"]").toLowerCase(),0<=(o=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(n.push(t),void 0!==a&&a.isBuffer&&a.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s||"asyncfunction"===s)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||b(t)||o.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(o=o.filter(function(t){return!e.excludeKeys(t)})),r("object:"+o.length+":"),i=this,o.forEach(function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")});if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var a=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return a.dispatch(e)});var o=[],i=t.map(function(t){var r=new v,i=n.slice();return y(e,r,i).dispatch(t),o=o.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(o),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),b(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function v(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,a,o,s,l,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array;function n(e){return 43===(e=e.charCodeAt(0))||45===e?62:47===e||95===e?63:e<48?-1:e<58?e-48+26+26:e<91?e-65:e<123?e-97+26:void 0}e.toByteArray=function(e){if(0<e.length%4)throw Error("Invalid string. Length must be a multiple of 4");var r,i,a=e.length,a="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,o=new t(3*e.length/4-a),s=0<a?e.length-4:e.length,l=0;function u(e){o[l++]=e}for(r=0;r<s;r+=4)u((16711680&(i=n(e.charAt(r))<<18|n(e.charAt(r+1))<<12|n(e.charAt(r+2))<<6|n(e.charAt(r+3))))>>16),u((65280&i)>>8),u(255&i);return 2==a?u(255&(i=n(e.charAt(r))<<2|n(e.charAt(r+1))>>4)):1==a&&(u((i=n(e.charAt(r))<<10|n(e.charAt(r+1))<<4|n(e.charAt(r+2))>>2)>>8&255),u(255&i)),o},e.fromByteArray=function(e){var t,n,r,i,a=e.length%3,o="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-a;t<r;t+=3)o+=s((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(a){case 1:o=(o+=s((n=e[e.length-1])>>2))+s(n<<4&63)+"==";break;case 2:o=(o=(o+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+"="}return o}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,a,o,s,l,u,c){var p=e("base64-js"),d=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,a,o,s,l=typeof e;if("base64"===t&&"string"==l)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==l)r=S(e);else if("string"==l)r=i.byteLength(e,t);else{if("object"!=l)throw Error("First argument needs to be a number, array or string.");r=S(e.length)}if(i._useTypedArrays?a=i._augment(new Uint8Array(r)):((a=this).length=r,a._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(I(s=e)||i.isBuffer(s)||s&&"object"==typeof s&&"number"==typeof s.length)for(o=0;o<r;o++)i.isBuffer(e)?a[o]=e.readUInt8(o):a[o]=e[o];else if("string"==l)a.write(e,0,t);else if("number"==l&&!i._useTypedArrays&&!n)for(o=0;o<r;o++)a[o]=0;return a}function h(e,t,n,r){r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length"));var i,r=e.length;if(!(r<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function f(e,t,n,r){r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length"));var i,r=e.length;if(!(r<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function m(e,t,n,r){if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1*(65535-r+1):r}function g(e,t,n,r){if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=f(e,t,n,!0))?-1*(4294967295-r+1):r}function b(e,t,n,r){return r||(D("boolean"==typeof n,"missing or invalid endian"),D(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function y(e,t,n,r){return r||(D("boolean"==typeof n,"missing or invalid endian"),D(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function v(e,t,n,r,i){if(i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"trying to write beyond buffer length"),M(t,65535)),!((i=e.length)<=n))for(var a=0,o=Math.min(i-n,2);a<o;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function w(e,t,n,r,i){if(i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295)),!((i=e.length)<=n))for(var a=0,o=Math.min(i-n,4);a<o;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function _(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||v(e,0<=t?t:65535+t+1,n,r,i)}function A(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||w(e,0<=t?t:4294967295+t+1,n,r,i)}function O(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),R(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function E(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+7<e.length,"Trying to write beyond buffer length"),R(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=T(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=C(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw Error("Unknown encoding")}return n},i.concat=function(e,t){if(D(I(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(a=t=0;a<e.length;a++)t+=e[a].length;for(var n=new i(t),r=0,a=0;a<e.length;a++){var o=e[a];o.copy(n,r),r+=o.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(h=r,r=t,t=n,n=h),t=Number(t)||0;var a,o,s,l,u,c,p,d,h=this.length-t;switch((!n||h<(n=Number(n)))&&(n=h),r=String(r||"utf8").toLowerCase()){case"hex":u=function(e,t,n,r){n=Number(n)||0;var a=e.length-n;(!r||a<(r=Number(r)))&&(r=a),D((a=t.length)%2==0,"Invalid hex string"),a/2<r&&(r=a/2);for(var o=0;o<r;o++){var s=parseInt(t.substr(2*o,2),16);D(!isNaN(s),"Invalid hex string"),e[n+o]=s}return i._charsWritten=2*o,o}(this,e,t,n);break;case"utf8":case"utf-8":c=this,p=t,d=n,u=i._charsWritten=k(T(e),c,p,d);break;case"ascii":case"binary":a=t,o=n,u=i._charsWritten=k(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(e),this,a,o);break;case"base64":c=this,p=t,d=n,u=i._charsWritten=k(C(e),c,p,d);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=t,l=n,u=i._charsWritten=k(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,r.push(n%=256),r.push(t);return r}(e),this,s,l);break;default:throw Error("Unknown encoding")}return u},i.prototype.toString=function(e,t,n){var r,i,a;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):this.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",a=t;a<n;a++)i+=j(e[a]);return i}(this,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var a=t;a<n;a++)e[a]<=127?(r+=L(i)+String.fromCharCode(e[a]),i=""):i+="%"+e[a].toString(16);return r+L(i)}(this,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}(this,t,n);break;case"base64":a=n,r=0===(i=t)&&a===this.length?p.fromByteArray(this):p.fromByteArray(this.slice(i,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(this,t,n);break;default:throw Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){D(n<=r,"sourceEnd < sourceStart"),D(0<=t&&t<e.length,"targetStart out of bounds"),D(0<=n&&n<this.length,"sourceStart out of bounds"),D(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(a<100||!i._useTypedArrays)for(var o=0;o<a;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=P(e,n,0),t=P(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,a=new i(r,void 0,!0),o=0;o<r;o++)a[o]=this[o+e];return a},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return f(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return f(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return y(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return y(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){v(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){v(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){A(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){A(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){O(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){O(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,D("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),D(t<=n,"end < start"),n!==t&&0!==this.length){D(0<=t&&t<this.length,"start out of bounds"),D(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=j(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var x=i.prototype;function P(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function S(e){return(e=~~Math.ceil(+e))<0?0:e}function I(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,a=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),o=0;o<a.length;o++)t.push(parseInt(a[o],16))}return t}function C(e){return p.toByteArray(e)}function k(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function L(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){D("number"==typeof e,"cannot write a non-number as a number"),D(0<=e,"specified a negative value for writing an unsigned value"),D(e<=t,"value is larger than maximum value for type"),D(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value"),D(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value")}function D(e,t){if(!e)throw Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=x.get,e.set=x.set,e.write=x.write,e.toString=x.toString,e.toLocaleString=x.toString,e.toJSON=x.toJSON,e.copy=x.copy,e.slice=x.slice,e.readUInt8=x.readUInt8,e.readUInt16LE=x.readUInt16LE,e.readUInt16BE=x.readUInt16BE,e.readUInt32LE=x.readUInt32LE,e.readUInt32BE=x.readUInt32BE,e.readInt8=x.readInt8,e.readInt16LE=x.readInt16LE,e.readInt16BE=x.readInt16BE,e.readInt32LE=x.readInt32LE,e.readInt32BE=x.readInt32BE,e.readFloatLE=x.readFloatLE,e.readFloatBE=x.readFloatBE,e.readDoubleLE=x.readDoubleLE,e.readDoubleBE=x.readDoubleBE,e.writeUInt8=x.writeUInt8,e.writeUInt16LE=x.writeUInt16LE,e.writeUInt16BE=x.writeUInt16BE,e.writeUInt32LE=x.writeUInt32LE,e.writeUInt32BE=x.writeUInt32BE,e.writeInt8=x.writeInt8,e.writeInt16LE=x.writeInt16LE,e.writeInt16BE=x.writeInt16BE,e.writeInt32LE=x.writeInt32LE,e.writeInt32BE=x.writeInt32BE,e.writeFloatLE=x.writeFloatLE,e.writeFloatBE=x.writeFloatBE,e.writeDoubleLE=x.writeDoubleLE,e.writeDoubleBE=x.writeDoubleBE,e.fill=x.fill,e.inspect=x.inspect,e.toArrayBuffer=x.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var i=e("buffer").Buffer,p=new i(4);p.fill(0),t.exports={hash:function(e,t,n,r){for(var a=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=i.concat([e,p],n));for(var n,r=[],a=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=4)r.push(a.call(e,o));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),t=r,o=new i(n),s=t?o.writeInt32BE:o.writeInt32LE,l=0;l<a.length;l++)s.call(o,a[l],4*l,!0);return o}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,a,o,s,l,u,c){var i=e("buffer").Buffer,p=e("./sha"),d=e("./sha256"),h=e("./rng"),f={sha1:p,sha256:d,md5:e("./md5")},m=new i(64);function g(e,t){var n=f[e=e||"sha1"],r=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var a=i.concat(r),a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>64?t=e(t):t.length<64&&(t=i.concat([t,m],64));for(var r=new i(64),a=new i(64),o=0;o<64;o++)r[o]=54^t[o],a[o]=92^t[o];return n=e(i.concat([r,n])),e(i.concat([a,n]))}(n,t,a):n(a);return r=null,e?a.toString(e):a}}}function b(){var e=[].slice.call(arguments).join(" ");throw Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}m.fill(0),n.createHash=function(e){return g(e)},n.createHmac=g,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}};var y,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],w=function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}};for(y in v)w(v[y],y)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var p=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,l=r,u=i,c=a,n=f(n,r,i,a,e[o+0],7,-680876936),a=f(a,n,r,i,e[o+1],12,-389564586),i=f(i,a,n,r,e[o+2],17,606105819),r=f(r,i,a,n,e[o+3],22,-1044525330);n=f(n,r,i,a,e[o+4],7,-176418897),a=f(a,n,r,i,e[o+5],12,1200080426),i=f(i,a,n,r,e[o+6],17,-1473231341),r=f(r,i,a,n,e[o+7],22,-45705983),n=f(n,r,i,a,e[o+8],7,1770035416),a=f(a,n,r,i,e[o+9],12,-1958414417),i=f(i,a,n,r,e[o+10],17,-42063),r=f(r,i,a,n,e[o+11],22,-1990404162),n=f(n,r,i,a,e[o+12],7,1804603682),a=f(a,n,r,i,e[o+13],12,-40341101),i=f(i,a,n,r,e[o+14],17,-1502002290),n=m(n,r=f(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=m(a,n,r,i,e[o+6],9,-1069501632),i=m(i,a,n,r,e[o+11],14,643717713),r=m(r,i,a,n,e[o+0],20,-373897302),n=m(n,r,i,a,e[o+5],5,-701558691),a=m(a,n,r,i,e[o+10],9,38016083),i=m(i,a,n,r,e[o+15],14,-660478335),r=m(r,i,a,n,e[o+4],20,-405537848),n=m(n,r,i,a,e[o+9],5,568446438),a=m(a,n,r,i,e[o+14],9,-1019803690),i=m(i,a,n,r,e[o+3],14,-187363961),r=m(r,i,a,n,e[o+8],20,1163531501),n=m(n,r,i,a,e[o+13],5,-1444681467),a=m(a,n,r,i,e[o+2],9,-51403784),i=m(i,a,n,r,e[o+7],14,1735328473),n=g(n,r=m(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=g(a,n,r,i,e[o+8],11,-2022574463),i=g(i,a,n,r,e[o+11],16,1839030562),r=g(r,i,a,n,e[o+14],23,-35309556),n=g(n,r,i,a,e[o+1],4,-1530992060),a=g(a,n,r,i,e[o+4],11,1272893353),i=g(i,a,n,r,e[o+7],16,-155497632),r=g(r,i,a,n,e[o+10],23,-1094730640),n=g(n,r,i,a,e[o+13],4,681279174),a=g(a,n,r,i,e[o+0],11,-358537222),i=g(i,a,n,r,e[o+3],16,-722521979),r=g(r,i,a,n,e[o+6],23,76029189),n=g(n,r,i,a,e[o+9],4,-640364487),a=g(a,n,r,i,e[o+12],11,-421815835),i=g(i,a,n,r,e[o+15],16,530742520),n=b(n,r=g(r,i,a,n,e[o+2],23,-995338651),i,a,e[o+0],6,-198630844),a=b(a,n,r,i,e[o+7],10,1126891415),i=b(i,a,n,r,e[o+14],15,-1416354905),r=b(r,i,a,n,e[o+5],21,-57434055),n=b(n,r,i,a,e[o+12],6,1700485571),a=b(a,n,r,i,e[o+3],10,-1894986606),i=b(i,a,n,r,e[o+10],15,-1051523),r=b(r,i,a,n,e[o+1],21,-2054922799),n=b(n,r,i,a,e[o+8],6,1873313359),a=b(a,n,r,i,e[o+15],10,-30611744),i=b(i,a,n,r,e[o+6],15,-1560198380),r=b(r,i,a,n,e[o+13],21,1309151649),n=b(n,r,i,a,e[o+4],6,-145523070),a=b(a,n,r,i,e[o+11],10,-1120210379),i=b(i,a,n,r,e[o+2],15,718787259),r=b(r,i,a,n,e[o+9],21,-343485551),n=y(n,s),r=y(r,l),i=y(i,u),a=y(a,c)}return[n,r,i,a]}function h(e,t,n,r,i,a){return y((t=y(y(t,e),y(r,a)))<<i|t>>>32-i,n)}function f(e,t,n,r,i,a,o){return h(t&n|~t&r,e,t,i,a,o)}function m(e,t,n,r,i,a,o){return h(t&r|n&~r,e,t,i,a,o)}function g(e,t,n,r,i,a,o){return h(t^n^r,e,t,i,a,o)}function b(e,t,n,r,i,a,o){return h(n^(t|~r),e,t,i,a,o)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return p.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,a,o,s,l,u){var c;t.exports=c||function(e){for(var t,n=Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var p=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,a=Array(80),o=1732584193,s=-271733879,l=-1732584194,u=271733878,c=-1009589776,p=0;p<e.length;p+=16){for(var d=o,m=s,g=l,b=u,y=c,v=0;v<80;v++){a[v]=v<16?e[p+v]:f(a[v-3]^a[v-8]^a[v-14]^a[v-16],1);var w=h(h(f(o,5),(w=s,r=l,i=u,(n=v)<20?w&r|~w&i:!(n<40)&&n<60?w&r|w&i|r&i:w^r^i)),h(h(c,a[v]),(n=v)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514)),c=u,u=l,l=f(s,30),s=o,o=w}o=h(o,d),s=h(s,m),l=h(l,g),u=h(u,b),c=h(c,y)}return[o,s,l,u,c]}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}t.exports=function(e){return p.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,s,l=0;l<e.length;l+=16){for(var u=i[0],c=i[1],d=i[2],h=i[3],g=i[4],b=i[5],y=i[6],v=i[7],w=0;w<64;w++)a[w]=w<16?e[w+l]:p(p(p(f(s=a[w-2],17)^f(s,19)^m(s,10),a[w-7]),f(s=a[w-15],7)^f(s,18)^m(s,3)),a[w-16]),n=p(p(p(p(v,f(s=g,6)^f(s,11)^f(s,25)),g&b^~g&y),r[w]),a[w]),o=p(f(o=u,2)^f(o,13)^f(o,22),u&c^u&d^c&d),v=y,y=b,b=g,g=p(h,n),h=d,d=c,c=u,u=p(n,o);i[0]=p(u,i[0]),i[1]=p(c,i[1]),i[2]=p(d,i[2]),i[3]=p(h,i[3]),i[4]=p(g,i[4]),i[5]=p(b,i[5]),i[6]=p(y,i[6]),i[7]=p(v,i[7])}return i}var h=e("./helpers"),f=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,a,o,s,l,u){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,d=n?-1:1,i=e[t+p];for(p+=d,a=i&(1<<-c)-1,i>>=-c,c+=s;0<c;a=256*a+e[t+p],p+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;0<c;o=256*o+e[t+p],p+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,r),a-=u}return(i?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,l=8*a-i-1,u=(1<<l)-1,c=u>>1,p=23===i?5960464477539062e-23:0,d=r?0:a-1,h=r?1:-1,a=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(t+=1<=o+c?p/r:p*Math.pow(2,1-c))*r&&(o++,r/=2),u<=o+c?(s=0,o=u):1<=o+c?(s=(t*r-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));8<=i;e[n+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;0<l;e[n+d]=255&o,d+=h,o/=256,l-=8);e[n+d-h]|=128*a}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,a,o,s,l,u){var c,p,d;function h(){}(e=t.exports={}).nextTick=(p="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,p?function(e){return window.setImmediate(e)}:d?(c=[],window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<c.length&&c.shift()())},!0),function(e){c.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},31409:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;let i=n(32641),a=n(44350),o=n(85807);t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("cancelFineTune","fineTuneId",t);let i="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),createAnswer:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createAnswer","createAnswerRequest",t);let i=new URL("/answers",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createChatCompletion:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createChatCompletion","createChatCompletionRequest",t);let i=new URL("/chat/completions",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createClassification:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createClassification","createClassificationRequest",t);let i=new URL("/classifications",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createCompletion:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createCompletion","createCompletionRequest",t);let i=new URL("/completions",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createEdit:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createEdit","createEditRequest",t);let i=new URL("/edits",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createEmbedding:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createEmbedding","createEmbeddingRequest",t);let i=new URL("/embeddings",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createFile:(t,n,i={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createFile","file",t),a.assertParamExists("createFile","purpose",n);let o=new URL("/files",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"POST"},r),i),l={},u=new(e&&e.formDataCtor||FormData);void 0!==t&&u.append("file",t),void 0!==n&&u.append("purpose",n),l["Content-Type"]="multipart/form-data",a.setSearchParams(o,{});let c=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign(Object.assign({},l),u.getHeaders()),c),i.headers),s.data=u,{url:a.toPathString(o),options:s}}),createFineTune:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createFineTune","createFineTuneRequest",t);let i=new URL("/fine-tunes",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createImage:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createImage","createImageRequest",t);let i=new URL("/images/generations",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createImageEdit:(t,n,i,o,s,l,u,c={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createImageEdit","image",t),a.assertParamExists("createImageEdit","prompt",n);let p=new URL("/images/edits",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let d=Object.assign(Object.assign({method:"POST"},r),c),h={},f=new(e&&e.formDataCtor||FormData);void 0!==t&&f.append("image",t),void 0!==i&&f.append("mask",i),void 0!==n&&f.append("prompt",n),void 0!==o&&f.append("n",o),void 0!==s&&f.append("size",s),void 0!==l&&f.append("response_format",l),void 0!==u&&f.append("user",u),h["Content-Type"]="multipart/form-data",a.setSearchParams(p,{});let m=r&&r.headers?r.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},h),f.getHeaders()),m),c.headers),d.data=f,{url:a.toPathString(p),options:d}}),createImageVariation:(t,n,i,o,s,l={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createImageVariation","image",t);let u=new URL("/images/variations",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let c=Object.assign(Object.assign({method:"POST"},r),l),p={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("image",t),void 0!==n&&d.append("n",n),void 0!==i&&d.append("size",i),void 0!==o&&d.append("response_format",o),void 0!==s&&d.append("user",s),p["Content-Type"]="multipart/form-data",a.setSearchParams(u,{});let h=r&&r.headers?r.headers:{};return c.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),d.getHeaders()),h),l.headers),c.data=d,{url:a.toPathString(u),options:c}}),createModeration:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createModeration","createModerationRequest",t);let i=new URL("/moderations",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let o=Object.assign(Object.assign({method:"POST"},r),n),s={};s["Content-Type"]="application/json",a.setSearchParams(i,{});let l=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},s),l),n.headers),o.data=a.serializeDataIfNeeded(t,o,e),{url:a.toPathString(i),options:o}}),createSearch:(t,n,i={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createSearch","engineId",t),a.assertParamExists("createSearch","createSearchRequest",n);let o="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),s=new URL(o,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let l=Object.assign(Object.assign({method:"POST"},r),i),u={};u["Content-Type"]="application/json",a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},u),c),i.headers),l.data=a.serializeDataIfNeeded(n,l,e),{url:a.toPathString(s),options:l}}),createTranscription:(t,n,i,o,s,l,u={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createTranscription","file",t),a.assertParamExists("createTranscription","model",n);let c=new URL("/audio/transcriptions",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let p=Object.assign(Object.assign({method:"POST"},r),u),d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("file",t),void 0!==n&&h.append("model",n),void 0!==i&&h.append("prompt",i),void 0!==o&&h.append("response_format",o),void 0!==s&&h.append("temperature",s),void 0!==l&&h.append("language",l),d["Content-Type"]="multipart/form-data",a.setSearchParams(c,{});let f=r&&r.headers?r.headers:{};return p.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),h.getHeaders()),f),u.headers),p.data=h,{url:a.toPathString(c),options:p}}),createTranslation:(t,n,i,o,s,l={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("createTranslation","file",t),a.assertParamExists("createTranslation","model",n);let u=new URL("/audio/translations",a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let c=Object.assign(Object.assign({method:"POST"},r),l),p={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("file",t),void 0!==n&&d.append("model",n),void 0!==i&&d.append("prompt",i),void 0!==o&&d.append("response_format",o),void 0!==s&&d.append("temperature",s),p["Content-Type"]="multipart/form-data",a.setSearchParams(u,{});let h=r&&r.headers?r.headers:{};return c.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),d.getHeaders()),h),l.headers),c.data=d,{url:a.toPathString(u),options:c}}),deleteFile:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("deleteFile","fileId",t);let i="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"DELETE"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),deleteModel:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("deleteModel","model",t);let i="/models/{model}".replace("{model}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"DELETE"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),downloadFile:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("downloadFile","fileId",t);let i="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"GET"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),listEngines:(t={})=>r(this,void 0,void 0,function*(){let n;let r=new URL("/engines",a.DUMMY_BASE_URL);e&&(n=e.baseOptions);let i=Object.assign(Object.assign({method:"GET"},n),t);a.setSearchParams(r,{});let o=n&&n.headers?n.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),o),t.headers),{url:a.toPathString(r),options:i}}),listFiles:(t={})=>r(this,void 0,void 0,function*(){let n;let r=new URL("/files",a.DUMMY_BASE_URL);e&&(n=e.baseOptions);let i=Object.assign(Object.assign({method:"GET"},n),t);a.setSearchParams(r,{});let o=n&&n.headers?n.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),o),t.headers),{url:a.toPathString(r),options:i}}),listFineTuneEvents:(t,n,i={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("listFineTuneEvents","fineTuneId",t);let o="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(o,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let l=Object.assign(Object.assign({method:"GET"},r),i),u={};void 0!==n&&(u.stream=n),a.setSearchParams(s,u);let c=r&&r.headers?r.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:l}}),listFineTunes:(t={})=>r(this,void 0,void 0,function*(){let n;let r=new URL("/fine-tunes",a.DUMMY_BASE_URL);e&&(n=e.baseOptions);let i=Object.assign(Object.assign({method:"GET"},n),t);a.setSearchParams(r,{});let o=n&&n.headers?n.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),o),t.headers),{url:a.toPathString(r),options:i}}),listModels:(t={})=>r(this,void 0,void 0,function*(){let n;let r=new URL("/models",a.DUMMY_BASE_URL);e&&(n=e.baseOptions);let i=Object.assign(Object.assign({method:"GET"},n),t);a.setSearchParams(r,{});let o=n&&n.headers?n.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),o),t.headers),{url:a.toPathString(r),options:i}}),retrieveEngine:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("retrieveEngine","engineId",t);let i="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"GET"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),retrieveFile:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("retrieveFile","fileId",t);let i="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"GET"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),retrieveFineTune:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("retrieveFineTune","fineTuneId",t);let i="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"GET"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}}),retrieveModel:(t,n={})=>r(this,void 0,void 0,function*(){let r;a.assertParamExists("retrieveModel","model",t);let i="/models/{model}".replace("{model}",encodeURIComponent(String(t))),o=new URL(i,a.DUMMY_BASE_URL);e&&(r=e.baseOptions);let s=Object.assign(Object.assign({method:"GET"},r),n);a.setSearchParams(o,{});let l=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),l),n.headers),{url:a.toPathString(o),options:s}})}},t.OpenAIApiFp=function(e){let n=t.OpenAIApiAxiosParamCreator(e);return{cancelFineTune(t,s){return r(this,void 0,void 0,function*(){let r=yield n.cancelFineTune(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createAnswer(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createAnswer(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createChatCompletion(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createChatCompletion(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createClassification(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createClassification(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createCompletion(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createCompletion(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createEdit(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createEdit(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createEmbedding(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createEmbedding(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createFile(t,s,l){return r(this,void 0,void 0,function*(){let r=yield n.createFile(t,s,l);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createFineTune(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createFineTune(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createImage(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createImage(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createImageEdit(t,s,l,u,c,p,d,h){return r(this,void 0,void 0,function*(){let r=yield n.createImageEdit(t,s,l,u,c,p,d,h);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createImageVariation(t,s,l,u,c,p){return r(this,void 0,void 0,function*(){let r=yield n.createImageVariation(t,s,l,u,c,p);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createModeration(t,s){return r(this,void 0,void 0,function*(){let r=yield n.createModeration(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createSearch(t,s,l){return r(this,void 0,void 0,function*(){let r=yield n.createSearch(t,s,l);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createTranscription(t,s,l,u,c,p,d){return r(this,void 0,void 0,function*(){let r=yield n.createTranscription(t,s,l,u,c,p,d);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},createTranslation(t,s,l,u,c,p){return r(this,void 0,void 0,function*(){let r=yield n.createTranslation(t,s,l,u,c,p);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},deleteFile(t,s){return r(this,void 0,void 0,function*(){let r=yield n.deleteFile(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},deleteModel(t,s){return r(this,void 0,void 0,function*(){let r=yield n.deleteModel(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},downloadFile(t,s){return r(this,void 0,void 0,function*(){let r=yield n.downloadFile(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},listEngines(t){return r(this,void 0,void 0,function*(){let r=yield n.listEngines(t);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},listFiles(t){return r(this,void 0,void 0,function*(){let r=yield n.listFiles(t);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},listFineTuneEvents(t,s,l){return r(this,void 0,void 0,function*(){let r=yield n.listFineTuneEvents(t,s,l);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},listFineTunes(t){return r(this,void 0,void 0,function*(){let r=yield n.listFineTunes(t);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},listModels(t){return r(this,void 0,void 0,function*(){let r=yield n.listModels(t);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},retrieveEngine(t,s){return r(this,void 0,void 0,function*(){let r=yield n.retrieveEngine(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},retrieveFile(t,s){return r(this,void 0,void 0,function*(){let r=yield n.retrieveFile(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},retrieveFineTune(t,s){return r(this,void 0,void 0,function*(){let r=yield n.retrieveFineTune(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})},retrieveModel(t,s){return r(this,void 0,void 0,function*(){let r=yield n.retrieveModel(t,s);return a.createRequestFunction(r,i.default,o.BASE_PATH,e)})}}},t.OpenAIApiFactory=function(e,n,r){let i=t.OpenAIApiFp(e);return{cancelFineTune:(e,t)=>i.cancelFineTune(e,t).then(e=>e(r,n)),createAnswer:(e,t)=>i.createAnswer(e,t).then(e=>e(r,n)),createChatCompletion:(e,t)=>i.createChatCompletion(e,t).then(e=>e(r,n)),createClassification:(e,t)=>i.createClassification(e,t).then(e=>e(r,n)),createCompletion:(e,t)=>i.createCompletion(e,t).then(e=>e(r,n)),createEdit:(e,t)=>i.createEdit(e,t).then(e=>e(r,n)),createEmbedding:(e,t)=>i.createEmbedding(e,t).then(e=>e(r,n)),createFile:(e,t,a)=>i.createFile(e,t,a).then(e=>e(r,n)),createFineTune:(e,t)=>i.createFineTune(e,t).then(e=>e(r,n)),createImage:(e,t)=>i.createImage(e,t).then(e=>e(r,n)),createImageEdit:(e,t,a,o,s,l,u,c)=>i.createImageEdit(e,t,a,o,s,l,u,c).then(e=>e(r,n)),createImageVariation:(e,t,a,o,s,l)=>i.createImageVariation(e,t,a,o,s,l).then(e=>e(r,n)),createModeration:(e,t)=>i.createModeration(e,t).then(e=>e(r,n)),createSearch:(e,t,a)=>i.createSearch(e,t,a).then(e=>e(r,n)),createTranscription:(e,t,a,o,s,l,u)=>i.createTranscription(e,t,a,o,s,l,u).then(e=>e(r,n)),createTranslation:(e,t,a,o,s,l)=>i.createTranslation(e,t,a,o,s,l).then(e=>e(r,n)),deleteFile:(e,t)=>i.deleteFile(e,t).then(e=>e(r,n)),deleteModel:(e,t)=>i.deleteModel(e,t).then(e=>e(r,n)),downloadFile:(e,t)=>i.downloadFile(e,t).then(e=>e(r,n)),listEngines:e=>i.listEngines(e).then(e=>e(r,n)),listFiles:e=>i.listFiles(e).then(e=>e(r,n)),listFineTuneEvents:(e,t,a)=>i.listFineTuneEvents(e,t,a).then(e=>e(r,n)),listFineTunes:e=>i.listFineTunes(e).then(e=>e(r,n)),listModels:e=>i.listModels(e).then(e=>e(r,n)),retrieveEngine:(e,t)=>i.retrieveEngine(e,t).then(e=>e(r,n)),retrieveFile:(e,t)=>i.retrieveFile(e,t).then(e=>e(r,n)),retrieveFineTune:(e,t)=>i.retrieveFineTune(e,t).then(e=>e(r,n)),retrieveModel:(e,t)=>i.retrieveModel(e,t).then(e=>e(r,n))}};class s extends o.BaseAPI{cancelFineTune(e,n){return t.OpenAIApiFp(this.configuration).cancelFineTune(e,n).then(e=>e(this.axios,this.basePath))}createAnswer(e,n){return t.OpenAIApiFp(this.configuration).createAnswer(e,n).then(e=>e(this.axios,this.basePath))}createChatCompletion(e,n){return t.OpenAIApiFp(this.configuration).createChatCompletion(e,n).then(e=>e(this.axios,this.basePath))}createClassification(e,n){return t.OpenAIApiFp(this.configuration).createClassification(e,n).then(e=>e(this.axios,this.basePath))}createCompletion(e,n){return t.OpenAIApiFp(this.configuration).createCompletion(e,n).then(e=>e(this.axios,this.basePath))}createEdit(e,n){return t.OpenAIApiFp(this.configuration).createEdit(e,n).then(e=>e(this.axios,this.basePath))}createEmbedding(e,n){return t.OpenAIApiFp(this.configuration).createEmbedding(e,n).then(e=>e(this.axios,this.basePath))}createFile(e,n,r){return t.OpenAIApiFp(this.configuration).createFile(e,n,r).then(e=>e(this.axios,this.basePath))}createFineTune(e,n){return t.OpenAIApiFp(this.configuration).createFineTune(e,n).then(e=>e(this.axios,this.basePath))}createImage(e,n){return t.OpenAIApiFp(this.configuration).createImage(e,n).then(e=>e(this.axios,this.basePath))}createImageEdit(e,n,r,i,a,o,s,l){return t.OpenAIApiFp(this.configuration).createImageEdit(e,n,r,i,a,o,s,l).then(e=>e(this.axios,this.basePath))}createImageVariation(e,n,r,i,a,o){return t.OpenAIApiFp(this.configuration).createImageVariation(e,n,r,i,a,o).then(e=>e(this.axios,this.basePath))}createModeration(e,n){return t.OpenAIApiFp(this.configuration).createModeration(e,n).then(e=>e(this.axios,this.basePath))}createSearch(e,n,r){return t.OpenAIApiFp(this.configuration).createSearch(e,n,r).then(e=>e(this.axios,this.basePath))}createTranscription(e,n,r,i,a,o,s){return t.OpenAIApiFp(this.configuration).createTranscription(e,n,r,i,a,o,s).then(e=>e(this.axios,this.basePath))}createTranslation(e,n,r,i,a,o){return t.OpenAIApiFp(this.configuration).createTranslation(e,n,r,i,a,o).then(e=>e(this.axios,this.basePath))}deleteFile(e,n){return t.OpenAIApiFp(this.configuration).deleteFile(e,n).then(e=>e(this.axios,this.basePath))}deleteModel(e,n){return t.OpenAIApiFp(this.configuration).deleteModel(e,n).then(e=>e(this.axios,this.basePath))}downloadFile(e,n){return t.OpenAIApiFp(this.configuration).downloadFile(e,n).then(e=>e(this.axios,this.basePath))}listEngines(e){return t.OpenAIApiFp(this.configuration).listEngines(e).then(e=>e(this.axios,this.basePath))}listFiles(e){return t.OpenAIApiFp(this.configuration).listFiles(e).then(e=>e(this.axios,this.basePath))}listFineTuneEvents(e,n,r){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(e,n,r).then(e=>e(this.axios,this.basePath))}listFineTunes(e){return t.OpenAIApiFp(this.configuration).listFineTunes(e).then(e=>e(this.axios,this.basePath))}listModels(e){return t.OpenAIApiFp(this.configuration).listModels(e).then(e=>e(this.axios,this.basePath))}retrieveEngine(e,n){return t.OpenAIApiFp(this.configuration).retrieveEngine(e,n).then(e=>e(this.axios,this.basePath))}retrieveFile(e,n){return t.OpenAIApiFp(this.configuration).retrieveFile(e,n).then(e=>e(this.axios,this.basePath))}retrieveFineTune(e,n){return t.OpenAIApiFp(this.configuration).retrieveFineTune(e,n).then(e=>e(this.axios,this.basePath))}retrieveModel(e,n){return t.OpenAIApiFp(this.configuration).retrieveModel(e,n).then(e=>e(this.axios,this.basePath))}}t.OpenAIApi=s},85807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;let r=n(32641);t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"},t.BaseAPI=class{constructor(e,n=t.BASE_PATH,i=r.default){this.basePath=n,this.axios=i,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}},t.RequiredError=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}},44350:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestFunction=t.toPathString=t.serializeDataIfNeeded=t.setSearchParams=t.setOAuthToObject=t.setBearerAuthToObject=t.setBasicAuthToObject=t.setApiKeyToObject=t.assertParamExists=t.DUMMY_BASE_URL=void 0;let i=n(85807);t.DUMMY_BASE_URL="https://example.com",t.assertParamExists=function(e,t,n){if(null==n)throw new i.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},t.setApiKeyToObject=function(e,t,n){return r(this,void 0,void 0,function*(){if(n&&n.apiKey){let r="function"==typeof n.apiKey?yield n.apiKey(t):yield n.apiKey;e[t]=r}})},t.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},t.setBearerAuthToObject=function(e,t){return r(this,void 0,void 0,function*(){if(t&&t.accessToken){let n="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}})},t.setOAuthToObject=function(e,t,n,i){return r(this,void 0,void 0,function*(){if(i&&i.accessToken){let r="function"==typeof i.accessToken?yield i.accessToken(t,n):yield i.accessToken;e.Authorization="Bearer "+r}})},t.setSearchParams=function(e,...t){let n=new URLSearchParams(e.search);(function e(t,n,r=""){null!=n&&("object"==typeof n?Array.isArray(n)?n.forEach(n=>e(t,n,r)):Object.keys(n).forEach(i=>e(t,n[i],`${r}${""!==r?".":""}${i}`)):t.has(r)?t.append(r,n):t.set(r,n))})(n,t),e.search=n.toString()},t.serializeDataIfNeeded=function(e,t,n){let r="string"!=typeof e,i=r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r;return i?JSON.stringify(void 0!==e?e:{}):e||""},t.toPathString=function(e){return e.pathname+e.search+e.hash},t.createRequestFunction=function(e,t,n,r){return(i=t,a=n)=>{let o=Object.assign(Object.assign({},e.options),{url:((null==r?void 0:r.basePath)||a)+e.url});return i.request(o)}}},1986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;let r=n(51095);t.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${r.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=n(772))}isJsonMime(e){let t=RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}},51085:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(31409),t),i(n(1986),t)},32641:function(e,t,n){e.exports=n(39881)},20827:function(e,t,n){"use strict";var r=n(16887),i=n(38647),a=n(13845),o=n(91491),s=n(97944),l=n(66515),u=n(6548),c=n(80302),p=n(77617),d=n(50245);e.exports=function(e){return new Promise(function(t,n){var h,f=e.data,m=e.headers,g=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+w)}var _=s(e.baseURL,e.url);function A(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null;i(function(e){t(e),b()},function(e){n(e),b()},{data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}}if(y.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(A)},y.onabort=function(){y&&(n(c("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(c("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var O=(e.withCredentials||u(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;O&&(m[e.xsrfHeaderName]=O)}"setRequestHeader"in y&&r.forEach(m,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),y.send(f)})}},39881:function(e,t,n){"use strict";var r=n(16887),i=n(92913),a=n(36538),o=n(97832),s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(6887));s.Axios=a,s.Cancel=n(50245),s.CancelToken=n(18147),s.isCancel=n(56524),s.VERSION=n(76368).version,s.all=function(e){return Promise.all(e)},s.spread=n(11512),s.isAxiosError=n(48625),e.exports=s,e.exports.default=s},50245:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},18147:function(e,t,n){"use strict";var r=n(50245);function i(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},56524:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},36538:function(e,t,n){"use strict";var r=n(16887),i=n(91491),a=n(57906),o=n(1945),s=n(97832),l=n(20542),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],a=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});var c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!a){var p=[o,void 0];for(Array.prototype.unshift.apply(p,i),p=p.concat(c),n=Promise.resolve(t);p.length;)n=n.then(p.shift(),p.shift());return n}for(var d=t;i.length;){var h=i.shift(),f=i.shift();try{d=h(d)}catch(e){f(e);break}}try{n=o(d)}catch(e){return Promise.reject(e)}for(;c.length;)n=n.then(c.shift(),c.shift());return n},c.prototype.getUri=function(e){return i((e=s(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}}),e.exports=c},57906:function(e,t,n){"use strict";var r=n(16887);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},97944:function(e,t,n){"use strict";var r=n(86613),i=n(4014);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},80302:function(e,t,n){"use strict";var r=n(53145);e.exports=function(e,t,n,i,a){return r(Error(e),t,n,i,a)}},1945:function(e,t,n){"use strict";var r=n(16887),i=n(90114),a=n(56524),o=n(6887),s=n(50245);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!a(t)&&(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},53145:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},97832:function(e,t,n){"use strict";var r=n(16887);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=u[e]||a,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)}),n}},38647:function(e,t,n){"use strict";var r=n(80302);e.exports=function(e,t,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},90114:function(e,t,n){"use strict";var r=n(16887),i=n(6887);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,function(n){e=n.call(a,e,t)}),e}},6887:function(e,t,n){"use strict";var r,i=n(52040),a=n(16887),o=n(61349),s=n(53145),l=n(77617),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var p={transitional:l,adapter:("undefined"!=typeof XMLHttpRequest?r=n(20827):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(r=n(20827)),r),transformRequest:[function(e,t){return(o(t,"Accept"),o(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(a.isString(e))try{return(0,JSON.parse)(e),a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],function(e){p.headers[e]={}}),a.forEach(["post","put","patch"],function(e){p.headers[e]=a.merge(u)}),e.exports=p},77617:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},76368:function(e){e.exports={version:"0.26.1"}},92913:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},91491:function(e,t,n){"use strict";var r=n(16887);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var a,o=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))}))}),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},4014:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},13845:function(e,t,n){"use strict";var r=n(16887);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},86613:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},48625:function(e,t,n){"use strict";var r=n(16887);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},6548:function(e,t,n){"use strict";var r=n(16887);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},61349:function(e,t,n){"use strict";var r=n(16887);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},66515:function(e,t,n){"use strict";var r=n(16887),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e&&r.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t&&!(o[t]&&i.indexOf(t)>=0)&&("set-cookie"===t?o[t]=(o[t]?o[t]:[]).concat([n]):o[t]=o[t]?o[t]+", "+n:n)}),o}},11512:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},20542:function(e,t,n){"use strict";var r=n(76368).version,i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw TypeError("option "+a+" must be "+l);continue}if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},16887:function(e,t,n){"use strict";var r=n(92913),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function l(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}}e.exports={isArray:a,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)p(arguments[r],n);return t},extend:function(e,t,n){return p(t,function(t,i){n&&"function"==typeof t?e[i]=r(t,n):e[i]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},42635:function(e){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},35853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(28958),i=n(80003),a=n(1673),o=()=>{},s=new i.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,r)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(s)});n(await a)}catch(e){r(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},95472:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,i=e.length;for(;i>0;){let a=i/2|0,o=r+a;0>=n(e[o],t)?(r=++o,i-=a+1):i=a}return r}},1673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(95472);t.default=class{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);let n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}let i=r.default(this._queue,n,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,n)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},84153:function(e,t,n){"use strict";let r=n(16073),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class a extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}let o=(e,t,n)=>{let r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},s=e=>i.includes(e),l=(e,t)=>new Promise((n,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};let l=r.operation(t);l.attempt(async r=>{try{n(await e(r))}catch(e){if(!(e instanceof Error)){i(TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));return}if(e instanceof a)l.stop(),i(e.originalError);else if(e instanceof TypeError&&!s(e.message))l.stop(),i(e);else{o(e,r,t);try{await t.onFailedAttempt(e)}catch(e){i(e);return}l.retry(e)||i(l.mainError())}}})});e.exports=l,e.exports.default=l,e.exports.AbortError=a},80003:function(e,t,n){"use strict";let r=n(42635);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,n)=>new Promise((a,o)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){a(e);return}let s=setTimeout(()=>{if("function"==typeof n){try{a(n())}catch(e){o(e)}return}let r="string"==typeof n?n:`Promise timed out after ${t} milliseconds`,s=n instanceof Error?n:new i(r);"function"==typeof e.cancel&&e.cancel(),o(s)},t);r(e.then(a,o),()=>{clearTimeout(s)})});e.exports=a,e.exports.default=a,e.exports.TimeoutError=i},16073:function(e,t,n){e.exports=n(7198)},7198:function(e,t,n){var r=n(75678);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(e,t){return e-t}),r},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var a=0;a<r.length;a++){var o=r[a],s=e[o];e[o]=(function(r){var i=t.operation(n),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push(function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))}),i.attempt(function(){r.apply(e,a)})}).bind(e,s),e[o].options=n}}},75678:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=n&&(t=i,n=o)}return t}},85648:function(e,t,n){var r,i=n(52040);"undefined"!=typeof self&&self,e.exports=(r=n(86006),(()=>{var e={7403:(e,t,n)=>{"use strict";n.d(t,{default:()=>P});var r=n(4087),i=n.n(r);let a=function(e){return new RegExp(/<[a-z][\s\S]*>/i).test(e)},o=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var s="TYPE_CHARACTER",l="REMOVE_CHARACTER",u="REMOVE_ALL",c="REMOVE_LAST_VISIBLE_NODE",p="PAUSE_FOR",d="CALL_FUNCTION",h="ADD_HTML_TAG_ELEMENT",f="CHANGE_DELETE_SPEED",m="CHANGE_DELAY",g="CHANGE_CURSOR",b="PASTE_STRING",y="HTML_TAG";function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}let P=function(){var e;function t(e,n){var v=this;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),E(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),E(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),E(this,"setupWrapperElement",function(){v.state.elements.container&&(v.state.elements.wrapper.className=v.options.wrapperClassName,v.state.elements.cursor.className=v.options.cursorClassName,v.state.elements.cursor.innerHTML=v.options.cursor,v.state.elements.container.innerHTML="",v.state.elements.container.appendChild(v.state.elements.wrapper),v.state.elements.container.appendChild(v.state.elements.cursor))}),E(this,"start",function(){return v.state.eventLoopPaused=!1,v.runEventLoop(),v}),E(this,"pause",function(){return v.state.eventLoopPaused=!0,v}),E(this,"stop",function(){return v.state.eventLoop&&((0,r.cancel)(v.state.eventLoop),v.state.eventLoop=null),v}),E(this,"pauseFor",function(e){return v.addEventToQueue(p,{ms:e}),v}),E(this,"typeOutAllStrings",function(){return"string"==typeof v.options.strings?(v.typeString(v.options.strings).pauseFor(v.options.pauseFor),v):(v.options.strings.forEach(function(e){v.typeString(e).pauseFor(v.options.pauseFor).deleteAll(v.options.deleteSpeed)}),v)}),E(this,"typeString",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a(e))return v.typeOutHTMLString(e,t);if(e){var n=(v.options||{}).stringSplitter,r="function"==typeof n?n(e):e.split("");v.typeCharacters(r,t)}return v}),E(this,"pasteString",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a(e)?v.typeOutHTMLString(e,t,!0):(e&&v.addEventToQueue(b,{character:e,node:t}),v)}),E(this,"typeOutHTMLString",function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,i=((t=document.createElement("div")).innerHTML=e,t.childNodes);if(i.length>0)for(var a=0;a<i.length;a++){var o=i[a],s=o.innerHTML;o&&3!==o.nodeType?(o.innerHTML="",v.addEventToQueue(h,{node:o,parentNode:n}),r?v.pasteString(s,o):v.typeString(s,o)):o.textContent&&(r?v.pasteString(o.textContent,n):v.typeString(o.textContent,n))}return v}),E(this,"deleteAll",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"natural";return v.addEventToQueue(u,{speed:e}),v}),E(this,"changeDeleteSpeed",function(e){if(!e)throw Error("Must provide new delete speed");return v.addEventToQueue(f,{speed:e}),v}),E(this,"changeDelay",function(e){if(!e)throw Error("Must provide new delay");return v.addEventToQueue(m,{delay:e}),v}),E(this,"changeCursor",function(e){if(!e)throw Error("Must provide new cursor");return v.addEventToQueue(g,{cursor:e}),v}),E(this,"deleteChars",function(e){if(!e)throw Error("Must provide amount of characters to delete");for(var t=0;t<e;t++)v.addEventToQueue(l);return v}),E(this,"callFunction",function(e,t){if(!e||"function"!=typeof e)throw Error("Callback must be a function");return v.addEventToQueue(d,{cb:e,thisArg:t}),v}),E(this,"typeCharacters",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!Array.isArray(e))throw Error("Characters must be an array");return e.forEach(function(e){v.addEventToQueue(s,{character:e,node:t})}),v}),E(this,"removeCharacters",function(e){if(!e||!Array.isArray(e))throw Error("Characters must be an array");return e.forEach(function(){v.addEventToQueue(l)}),v}),E(this,"addEventToQueue",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v.addEventToStateProperty(e,t,n,"eventQueue")}),E(this,"addReverseCalledEvent",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v.options.loop?v.addEventToStateProperty(e,t,n,"reverseCalledEvents"):v}),E(this,"addEventToStateProperty",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i={eventName:e,eventArgs:t||{}};return v.state[r]=n?[i].concat(A(v.state[r])):[].concat(A(v.state[r]),[i]),v}),E(this,"runEventLoop",function(){v.state.lastFrameTime||(v.state.lastFrameTime=Date.now());var e=Date.now(),t=e-v.state.lastFrameTime;if(!v.state.eventQueue.length){if(!v.options.loop)return;v.state.eventQueue=A(v.state.calledEvents),v.state.calledEvents=[],v.options=_({},v.state.initialOptions)}if(v.state.eventLoop=i()(v.runEventLoop),!v.state.eventLoopPaused){if(v.state.pauseUntil){if(e<v.state.pauseUntil)return;v.state.pauseUntil=null}var n,r=A(v.state.eventQueue),a=r.shift();if(!(t<=(n=a.eventName===c||a.eventName===l?"natural"===v.options.deleteSpeed?o(40,80):v.options.deleteSpeed:"natural"===v.options.delay?o(120,160):v.options.delay))){var w=a.eventName,O=a.eventArgs;switch(v.logInDevMode({currentEvent:a,state:v.state,delay:n}),w){case b:case s:var E=O.character,x=O.node,P=document.createTextNode(E),S=P;v.options.onCreateTextNode&&"function"==typeof v.options.onCreateTextNode&&(S=v.options.onCreateTextNode(E,P)),S&&(x?x.appendChild(S):v.state.elements.wrapper.appendChild(S)),v.state.visibleNodes=[].concat(A(v.state.visibleNodes),[{type:"TEXT_NODE",character:E,node:S}]);break;case l:r.unshift({eventName:c,eventArgs:{removingCharacterNode:!0}});break;case p:var I=a.eventArgs.ms;v.state.pauseUntil=Date.now()+parseInt(I);break;case d:var j=a.eventArgs,T=j.cb,C=j.thisArg;T.call(C,{elements:v.state.elements});break;case h:var k=a.eventArgs,L=k.node,M=k.parentNode;M?M.appendChild(L):v.state.elements.wrapper.appendChild(L),v.state.visibleNodes=[].concat(A(v.state.visibleNodes),[{type:y,node:L,parentNode:M||v.state.elements.wrapper}]);break;case u:var N=v.state.visibleNodes,R=O.speed,D=[];R&&D.push({eventName:f,eventArgs:{speed:R,temp:!0}});for(var z=0,F=N.length;z<F;z++)D.push({eventName:c,eventArgs:{removingCharacterNode:!1}});R&&D.push({eventName:f,eventArgs:{speed:v.options.deleteSpeed,temp:!0}}),r.unshift.apply(r,D);break;case c:var U=a.eventArgs.removingCharacterNode;if(v.state.visibleNodes.length){var $=v.state.visibleNodes.pop(),B=$.type,K=$.node,q=$.character;v.options.onRemoveNode&&"function"==typeof v.options.onRemoveNode&&v.options.onRemoveNode({node:K,character:q}),K&&K.parentNode.removeChild(K),B===y&&U&&r.unshift({eventName:c,eventArgs:{}})}break;case f:v.options.deleteSpeed=a.eventArgs.speed;break;case m:v.options.delay=a.eventArgs.delay;break;case g:v.options.cursor=a.eventArgs.cursor,v.state.elements.cursor.innerHTML=a.eventArgs.cursor}v.options.loop&&(a.eventName===c||a.eventArgs&&a.eventArgs.temp||(v.state.calledEvents=[].concat(A(v.state.calledEvents),[a]))),v.state.eventQueue=r,v.state.lastFrameTime=e}}}),e){if("string"==typeof e){var w=document.querySelector(e);if(!w)throw Error("Could not find container element");this.state.elements.container=w}else this.state.elements.container=e}n&&(this.options=_(_({},this.options),n)),this.state.initialOptions=_({},this.options),this.init()}return e=[{key:"init",value:function(){var e;this.setupWrapperElement(),this.addEventToQueue(g,{cursor:this.options.cursor},!0),this.addEventToQueue(u,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||((e=document.createElement("style")).appendChild(document.createTextNode(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}")),document.head.appendChild(e),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),!0===this.options.autoStart&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(e){this.options.devMode&&console.log(e)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),i=n(401),a=n(7667),o=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8407:(e,t,n)=>{var r=n(7040),i=n(4125),a=n(2117),o=n(7518),s=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),i=n(1285),a=n(6e3),o=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),i=n(619),a=n(2385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},6384:(e,t,n)=>{var r=n(8407),i=n(7465),a=n(3779),o=n(7599),s=n(4758),l=n(4309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},4636:(e,t,n)=>{var r=n(2545),i=n(5694),a=n(1469),o=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),p=!n&&!c&&o(e),d=!n&&!c&&!p&&l(e),h=n||c||p||d,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},8866:(e,t,n)=>{var r=n(2488),i=n(1469);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},4239:(e,t,n)=>{var r=n(2705),i=n(9607),a=n(2333),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},9454:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),i=n(7005);e.exports=function e(t,n,a,o,s){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,a,o,e,s):t!=t&&n!=n)}},2492:(e,t,n)=>{var r=n(6384),i=n(7114),a=n(8351),o=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),p="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var y=l(e),v=l(t),w=y?d:s(e),_=v?d:s(t),A=(w=w==p?h:w)==h,O=(_=_==p?h:_)==h,E=w==_;if(E&&u(e)){if(!u(t))return!1;y=!0,A=!1}if(E&&!A)return b||(b=new r),y||c(e)?i(e,t,n,m,g,b):a(e,t,w,n,m,g,b);if(!(1&n)){var x=A&&f.call(e,"__wrapped__"),P=O&&f.call(t,"__wrapped__");if(x||P){var S=x?e.value():e,I=P?t.value():t;return b||(b=new r),g(S,I,n,m,b)}}return!!E&&(b||(b=new r),o(e,t,n,m,g,b))}},8458:(e,t,n)=>{var r=n(3560),i=n(5346),a=n(3218),o=n(346),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,p=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?p:s).test(o(e))}},8749:(e,t,n)=>{var r=n(4239),i=n(1780),a=n(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},280:(e,t,n)=>{var r=n(5726),i=n(6916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},7114:(e,t,n)=>{var r=n(8668),i=n(2908),a=n(4757);e.exports=function(e,t,n,o,s,l){var u=1&n,c=e.length,p=t.length;if(c!=p&&!(u&&p>c))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var b=e[f],y=t[f];if(o)var v=u?o(y,b,f,t,e,l):o(b,y,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!a(g,t)&&(b===e||s(b,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(b!==y&&!s(b,y,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},8351:(e,t,n)=>{var r=n(2705),i=n(1149),a=n(7813),o=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,p,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)break;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=o(h(e),h(t),r,u,p,d);return d.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var p=c;p--;){var d=u[p];if(!(l?d in t:i.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++p<c;){var b=e[d=u[p]],y=t[d];if(a)var v=l?a(y,b,d,t,e,s):a(b,y,d,e,t,s);if(!(void 0===v?b===y||o(b,y,n,a,s):v)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),i=n(9551),a=n(3674);e.exports=function(e){return r(e,a,i)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),i=n(7801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9551:(e,t,n)=>{var r=n(4963),i=n(479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:r(o(e=Object(e)),function(t){return a.call(e,t)})}:i;e.exports=s},4160:(e,t,n)=>{var r=n(8552),i=n(7071),a=n(3818),o=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",p="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",m=u(r),g=u(i),b=u(a),y=u(o),v=u(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=c||a&&w(a.resolve())!=p||o&&w(new o)!=d||s&&w(new s)!=h)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case b:return p;case y:return d;case v:return h}return t}),e.exports=w},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,i=n(4429),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),i=n(8407),a=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),i=n(7071),a=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var r=n(9454),i=n(7005),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=n(5062),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),i=n(3218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var r=n(8749),i=n(1717),a=n(1167),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),i=n(280),a=n(8612);e.exports=function(e){return a(e)?r(e):i(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},75:function(e){(function(){var t,n,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=i&&i.hrtime?(e.exports=function(){return(t()-a)/1e6},n=i.hrtime,a=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})()-1e9*i.uptime()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},4087:(e,t,n)=>{for(var r=n(75),i="undefined"==typeof window?n.g:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],l=i["cancel"+o]||i["cancelRequest"+o],u=0;!s&&u<a.length;u++)s=i[a[u]+"Request"+o],l=i[a[u]+"Cancel"+o]||i[a[u]+"CancelRequest"+o];if(!s||!l){var c=0,p=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},8156:e=>{"use strict";e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var a={};return(()=>{"use strict";n.d(a,{default:()=>h});var e=n(8156),t=n.n(e),r=n(7403),i=n(8446),o=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var n,i,a=(i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(d);if(i){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function d(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=u(e=a.call.apply(a,[this].concat(o))),r={instance:null},(n=p(n="state"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){var e=this,t=new r.default(this.typewriter,this.props.options);this.setState({instance:t},function(){var n=e.props.onInit;n&&n(t)})}},{key:"componentDidUpdate",value:function(e){o()(this.props.options,e.options)||this.setState({instance:new r.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var e=this,n=this.props.component;return t().createElement(n,{ref:function(t){return e.typewriter=t},className:"Typewriter","data-testid":"typewriter-wrapper"})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(e.Component);d.defaultProps={component:"div"};let h=d})(),a.default})())},7043:function(e,t,n){"use strict";n.d(t,{VY:function(){return er},h4:function(){return et},ck:function(){return ee},fC:function(){return X},xz:function(){return en}});var r=n(40431),i=n(86006),a=n(38899),o=n(79455),s=n(81084),l=n(1928),u=n(85740),c=n(76899),p=n(6423),d=n(51868),h=n(70757);let f="Collapsible",[m,g]=(0,a.b)(f),[b,y]=m(f),v=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,open:a,defaultOpen:o,disabled:s,onOpenChange:l,...p}=e,[d=!1,f]=(0,u.T)({prop:a,defaultProp:o,onChange:l});return(0,i.createElement)(b,{scope:n,disabled:s,contentId:(0,h.M)(),open:d,onOpenToggle:(0,i.useCallback)(()=>f(e=>!e),[f])},(0,i.createElement)(c.WV.div,(0,r.Z)({"data-state":E(d),"data-disabled":s?"":void 0},p,{ref:t})))}),w=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,...a}=e,o=y("CollapsibleTrigger",n);return(0,i.createElement)(c.WV.button,(0,r.Z)({type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":E(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled},a,{ref:t,onClick:(0,l.M)(e.onClick,o.onOpenToggle)}))}),_="CollapsibleContent",A=(0,i.forwardRef)((e,t)=>{let{forceMount:n,...a}=e,o=y(_,e.__scopeCollapsible);return(0,i.createElement)(d.z,{present:n||o.open},({present:e})=>(0,i.createElement)(O,(0,r.Z)({},a,{ref:t,present:e})))}),O=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,present:a,children:o,...l}=e,u=y(_,n),[d,h]=(0,i.useState)(a),f=(0,i.useRef)(null),m=(0,s.e)(t,f),g=(0,i.useRef)(0),b=g.current,v=(0,i.useRef)(0),w=v.current,A=u.open||d,O=(0,i.useRef)(A),x=(0,i.useRef)();return(0,i.useEffect)(()=>{let e=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,p.b)(()=>{let e=f.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();g.current=t.height,v.current=t.width,O.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),h(a)}},[u.open,a]),(0,i.createElement)(c.WV.div,(0,r.Z)({"data-state":E(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!A},l,{ref:m,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style}}),A&&o)});function E(e){return e?"open":"closed"}var x=n(84924);let P="Accordion",S=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[I,j,T]=(0,o.B)(P),[C,k]=(0,a.b)(P,[T,g]),L=g(),M=i.forwardRef((e,t)=>{let{type:n,...a}=e;return i.createElement(I.Provider,{scope:e.__scopeAccordion},"multiple"===n?i.createElement(U,(0,r.Z)({},a,{ref:t})):i.createElement(F,(0,r.Z)({},a,{ref:t})))});M.propTypes={type(e){let t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):"multiple"===e.type&&"string"==typeof t?Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):"single"===e.type&&Array.isArray(t)?Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};let[N,R]=C(P),[D,z]=C(P,{collapsible:!1}),F=i.forwardRef((e,t)=>{let{value:n,defaultValue:a,onValueChange:o=()=>{},collapsible:s=!1,...l}=e,[c,p]=(0,u.T)({prop:n,defaultProp:a,onChange:o});return i.createElement(N,{scope:e.__scopeAccordion,value:c?[c]:[],onItemOpen:p,onItemClose:i.useCallback(()=>s&&p(""),[s,p])},i.createElement(D,{scope:e.__scopeAccordion,collapsible:s},i.createElement(K,(0,r.Z)({},l,{ref:t}))))}),U=i.forwardRef((e,t)=>{let{value:n,defaultValue:a,onValueChange:o=()=>{},...s}=e,[l=[],c]=(0,u.T)({prop:n,defaultProp:a,onChange:o}),p=i.useCallback(e=>c((t=[])=>[...t,e]),[c]),d=i.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return i.createElement(N,{scope:e.__scopeAccordion,value:l,onItemOpen:p,onItemClose:d},i.createElement(D,{scope:e.__scopeAccordion,collapsible:!0},i.createElement(K,(0,r.Z)({},s,{ref:t}))))}),[$,B]=C(P),K=i.forwardRef((e,t)=>{let{__scopeAccordion:n,disabled:a,dir:o,orientation:u="vertical",...p}=e,d=i.useRef(null),h=(0,s.e)(d,t),f=j(n),m=(0,x.gm)(o),g="ltr"===m,b=(0,l.M)(e.onKeyDown,e=>{var t;if(!S.includes(e.key))return;let n=e.target,r=f().filter(e=>{var t;return!(null!==(t=e.ref.current)&&void 0!==t&&t.disabled)}),i=r.findIndex(e=>e.ref.current===n),a=r.length;if(-1===i)return;e.preventDefault();let o=i,s=a-1,l=()=>{(o=i+1)>s&&(o=0)},c=()=>{(o=i-1)<0&&(o=s)};switch(e.key){case"Home":o=0;break;case"End":o=s;break;case"ArrowRight":"horizontal"===u&&(g?l():c());break;case"ArrowDown":"vertical"===u&&l();break;case"ArrowLeft":"horizontal"===u&&(g?c():l());break;case"ArrowUp":"vertical"===u&&c()}let p=o%a;null===(t=r[p].ref.current)||void 0===t||t.focus()});return i.createElement($,{scope:n,disabled:a,direction:o,orientation:u},i.createElement(I.Slot,{scope:n},i.createElement(c.WV.div,(0,r.Z)({},p,{"data-orientation":u,ref:h,onKeyDown:a?void 0:b}))))}),q="AccordionItem",[V,H]=C(q),Z=i.forwardRef((e,t)=>{let{__scopeAccordion:n,value:a,...o}=e,s=B(q,n),l=R(q,n),u=L(n),c=(0,h.M)(),p=a&&l.value.includes(a)||!1,d=s.disabled||e.disabled;return i.createElement(V,{scope:n,open:p,disabled:d,triggerId:c},i.createElement(v,(0,r.Z)({"data-orientation":s.orientation,"data-state":Q(p)},u,o,{ref:t,disabled:d,open:p,onOpenChange:e=>{e?l.onItemOpen(a):l.onItemClose(a)}})))}),W=i.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,o=B(P,n),s=H("AccordionHeader",n);return i.createElement(c.WV.h3,(0,r.Z)({"data-orientation":o.orientation,"data-state":Q(s.open),"data-disabled":s.disabled?"":void 0},a,{ref:t}))}),Y="AccordionTrigger",J=i.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,o=B(P,n),s=H(Y,n),l=z(Y,n),u=L(n);return i.createElement(I.ItemSlot,{scope:n},i.createElement(w,(0,r.Z)({"aria-disabled":s.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:s.triggerId},u,a,{ref:t})))}),G=i.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,o=B(P,n),s=H("AccordionContent",n),l=L(n);return i.createElement(A,(0,r.Z)({role:"region","aria-labelledby":s.triggerId,"data-orientation":o.orientation},l,a,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))});function Q(e){return e?"open":"closed"}let X=M,ee=Z,et=W,en=J,er=G},79455:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var r=n(86006),i=n(38899),a=n(81084),o=n(1095);function s(e){let t=e+"CollectionProvider",[n,s]=(0,i.b)(t),[l,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=e+"CollectionSlot",p=r.forwardRef((e,t)=>{let{scope:n,children:i}=e,s=u(c,n),l=(0,a.e)(t,s.collectionRef);return r.createElement(o.g7,{ref:l},i)}),d=e+"CollectionItemSlot",h="data-radix-collection-item",f=r.forwardRef((e,t)=>{let{scope:n,children:i,...s}=e,l=r.useRef(null),c=(0,a.e)(t,l),p=u(d,n);return r.useEffect(()=>(p.itemMap.set(l,{ref:l,...s}),()=>void p.itemMap.delete(l))),r.createElement(o.g7,{[h]:"",ref:c},i)});return[{Provider:e=>{let{scope:t,children:n}=e,i=r.useRef(null),a=r.useRef(new Map).current;return r.createElement(l,{scope:t,itemMap:a,collectionRef:i},n)},Slot:p,ItemSlot:f},function(t){let n=u(e+"CollectionConsumer",t),i=r.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`)),r=Array.from(n.itemMap.values()),i=r.sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return i},[n.collectionRef,n.itemMap]);return i},s]}},84924:function(e,t,n){"use strict";n.d(t,{gm:function(){return a}});var r=n(86006);let i=(0,r.createContext)(void 0);function a(e){let t=(0,r.useContext)(i);return e||t||"ltr"}},50367:function(e,t,n){"use strict";let r,i;n.d(t,{VY:function(){return e0},ZA:function(){return e2},JO:function(){return eQ},ck:function(){return e4},wU:function(){return e6},eT:function(){return e3},__:function(){return e5},h_:function(){return eX},fC:function(){return eY},Z0:function(){return e8},xz:function(){return eJ},B4:function(){return eG},l_:function(){return e1}});var a=n(40431),o=n(86006),s=n(8431);function l(e,[t,n]){return Math.min(n,Math.max(t,e))}var u=n(1928),c=n(79455),p=n(81084),d=n(38899),h=n(84924),f=n(76899),m=n(46868),g=n(76295);let b="dismissableLayer.update",y=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v=(0,o.forwardRef)((e,t)=>{var n;let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...v}=e,A=(0,o.useContext)(y),[O,E]=(0,o.useState)(null),x=null!==(n=null==O?void 0:O.ownerDocument)&&void 0!==n?n:null==globalThis?void 0:globalThis.document,[,P]=(0,o.useState)({}),S=(0,p.e)(t,e=>E(e)),I=Array.from(A.layers),[j]=[...A.layersWithOutsidePointerEventsDisabled].slice(-1),T=I.indexOf(j),C=O?I.indexOf(O):-1,k=A.layersWithOutsidePointerEventsDisabled.size>0,L=C>=T,M=function(e,t=null==globalThis?void 0:globalThis.document){let n=(0,m.W)(e),r=(0,o.useRef)(!1),i=(0,o.useRef)(()=>{});return(0,o.useEffect)(()=>{let e=e=>{if(e.target&&!r.current){let r={originalEvent:e};function a(){_("dismissableLayer.pointerDownOutside",n,r,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...A.branches].some(e=>e.contains(t));!L||n||(null==l||l(e),null==d||d(e),e.defaultPrevented||null==h||h())},x),N=function(e,t=null==globalThis?void 0:globalThis.document){let n=(0,m.W)(e),r=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{e.target&&!r.current&&_("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target,n=[...A.branches].some(e=>e.contains(t));n||(null==c||c(e),null==d||d(e),e.defaultPrevented||null==h||h())},x);return(0,g.e)(e=>{let t=C===A.layers.size-1;t&&(null==s||s(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))},x),(0,o.useEffect)(()=>{if(O)return i&&(0===A.layersWithOutsidePointerEventsDisabled.size&&(r=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),A.layersWithOutsidePointerEventsDisabled.add(O)),A.layers.add(O),w(),()=>{i&&1===A.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=r)}},[O,x,i,A]),(0,o.useEffect)(()=>()=>{O&&(A.layers.delete(O),A.layersWithOutsidePointerEventsDisabled.delete(O),w())},[O,A]),(0,o.useEffect)(()=>{let e=()=>P({});return document.addEventListener(b,e),()=>document.removeEventListener(b,e)},[]),(0,o.createElement)(f.WV.div,(0,a.Z)({},v,{ref:S,style:{pointerEvents:k?L?"auto":"none":void 0,...e.style},onFocusCapture:(0,u.M)(e.onFocusCapture,N.onFocusCapture),onBlurCapture:(0,u.M)(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:(0,u.M)(e.onPointerDownCapture,M.onPointerDownCapture)}))});function w(){let e=new CustomEvent(b);document.dispatchEvent(e)}function _(e,t,n,{discrete:r}){let i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?(0,f.jH)(i,a):i.dispatchEvent(a)}var A=n(76808);let O="focusScope.autoFocusOnMount",E="focusScope.autoFocusOnUnmount",x={bubbles:!1,cancelable:!0},P=(0,o.forwardRef)((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,c]=(0,o.useState)(null),d=(0,m.W)(i),h=(0,m.W)(s),g=(0,o.useRef)(null),b=(0,p.e)(t,e=>c(e)),y=(0,o.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,o.useEffect)(()=>{if(r){function e(e){if(y.paused||!u)return;let t=e.target;u.contains(t)?g.current=t:j(g.current,{select:!0})}function t(e){if(y.paused||!u)return;let t=e.relatedTarget;null===t||u.contains(t)||j(g.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){let t=document.activeElement;for(let n of e)n.removedNodes.length>0&&!(null!=u&&u.contains(t))&&j(u)});return u&&n.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,u,y.paused]),(0,o.useEffect)(()=>{if(u){T.add(y);let e=document.activeElement,t=u.contains(e);if(!t){let t=new CustomEvent(O,x);u.addEventListener(O,d),u.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(j(r,{select:t}),document.activeElement!==n)return}(S(u).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&j(u))}return()=>{u.removeEventListener(O,d),setTimeout(()=>{let t=new CustomEvent(E,x);u.addEventListener(E,h),u.dispatchEvent(t),t.defaultPrevented||j(null!=e?e:document.body,{select:!0}),u.removeEventListener(E,h),T.remove(y)},0)}}},[u,d,h,y]);let v=(0,o.useCallback)(e=>{if(!n&&!r||y.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[r,a]=function(e){let t=S(e),n=I(t,e),r=I(t.reverse(),e);return[n,r]}(t),o=r&&a;o?e.shiftKey||i!==a?e.shiftKey&&i===r&&(e.preventDefault(),n&&j(a,{select:!0})):(e.preventDefault(),n&&j(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,y.paused]);return(0,o.createElement)(f.WV.div,(0,a.Z)({tabIndex:-1},l,{ref:b,onKeyDown:v}))});function S(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function I(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function j(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}let T=(i=[],{add(e){let t=i[0];e!==t&&(null==t||t.pause()),(i=C(i,e)).unshift(e)},remove(e){var t;null===(t=(i=C(i,e))[0])||void 0===t||t.resume()}});function C(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}var k=n(70757),L=n(39340),M=n(78421),N=n(26149),R=n(40514),D=n(6423),z=n(59952);let F="Popper",[U,$]=(0,d.b)(F),[B,K]=U(F),q=(0,o.forwardRef)((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,s=K("PopperAnchor",n),l=(0,o.useRef)(null),u=(0,p.e)(t,l);return(0,o.useEffect)(()=>{s.onAnchorChange((null==r?void 0:r.current)||l.current)}),r?null:(0,o.createElement)(f.WV.div,(0,a.Z)({},i,{ref:u}))}),V="PopperContent",[H,Z]=U(V),W=(0,o.forwardRef)((e,t)=>{var n,r,i,s,l,u,c,d;let{__scopePopper:h,side:g="bottom",sideOffset:b=0,align:y="center",alignOffset:v=0,arrowPadding:w=0,collisionBoundary:_=[],collisionPadding:A=0,sticky:O="partial",hideWhenDetached:E=!1,avoidCollisions:x=!0,onPlaced:P,...S}=e,I=K(V,h),[j,T]=(0,o.useState)(null),C=(0,p.e)(t,e=>T(e)),[k,R]=(0,o.useState)(null),F=(0,z.t)(k),U=null!==(n=null==F?void 0:F.width)&&void 0!==n?n:0,$=null!==(r=null==F?void 0:F.height)&&void 0!==r?r:0,B="number"==typeof A?A:{top:0,right:0,bottom:0,left:0,...A},q=Array.isArray(_)?_:[_],Z=q.length>0,W={padding:B,boundary:q.filter(J),altBoundary:Z},{refs:Y,floatingStyles:X,placement:ee,isPositioned:et,middlewareData:en}=(0,L.YF)({strategy:"fixed",placement:g+("center"!==y?"-"+y:""),whileElementsMounted:M.Me,elements:{reference:I.anchor},middleware:[(0,N.cv)({mainAxis:b+$,alignmentAxis:v}),x&&(0,N.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===O?(0,N.dr)():void 0,...W}),x&&(0,N.RR)({...W}),(0,N.dp)({...W,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}}),k&&(0,L.x7)({element:k,padding:w}),G({arrowWidth:U,arrowHeight:$}),E&&(0,N.Cp)({strategy:"referenceHidden"})]}),[er,ei]=Q(ee),ea=(0,m.W)(P);(0,D.b)(()=>{et&&(null==ea||ea())},[et,ea]);let eo=null===(i=en.arrow)||void 0===i?void 0:i.x,es=null===(s=en.arrow)||void 0===s?void 0:s.y,el=(null===(l=en.arrow)||void 0===l?void 0:l.centerOffset)!==0,[eu,ec]=(0,o.useState)();return(0,D.b)(()=>{j&&ec(window.getComputedStyle(j).zIndex)},[j]),(0,o.createElement)("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:et?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[null===(u=en.transformOrigin)||void 0===u?void 0:u.x,null===(c=en.transformOrigin)||void 0===c?void 0:c.y].join(" ")},dir:e.dir},(0,o.createElement)(H,{scope:h,placedSide:er,onArrowChange:R,arrowX:eo,arrowY:es,shouldHideArrow:el},(0,o.createElement)(f.WV.div,(0,a.Z)({"data-side":er,"data-align":ei},S,{ref:C,style:{...S.style,animation:et?void 0:"none",opacity:null!==(d=en.hide)&&void 0!==d&&d.referenceHidden?0:void 0}}))))}),Y={top:"bottom",right:"left",bottom:"top",left:"right"};function J(e){return null!==e}let G=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,o;let{placement:s,rects:l,middlewareData:u}=t,c=(null===(n=u.arrow)||void 0===n?void 0:n.centerOffset)!==0,p=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[h,f]=Q(s),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(r=null===(i=u.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+p/2,b=(null!==(a=null===(o=u.arrow)||void 0===o?void 0:o.y)&&void 0!==a?a:0)+d/2,y="",v="";return"bottom"===h?(y=c?m:`${g}px`,v=`${-d}px`):"top"===h?(y=c?m:`${g}px`,v=`${l.floating.height+d}px`):"right"===h?(y=`${-d}px`,v=c?m:`${b}px`):"left"===h&&(y=`${l.floating.width+d}px`,v=c?m:`${b}px`),{data:{x:y,y:v}}}});function Q(e){let[t,n="center"]=e.split("-");return[t,n]}let X=e=>{let{__scopePopper:t,children:n}=e,[r,i]=(0,o.useState)(null);return(0,o.createElement)(B,{scope:t,anchor:r,onAnchorChange:i},n)},ee=(0,o.forwardRef)((e,t)=>{var n;let{container:r=null==globalThis?void 0:null===(n=globalThis.document)||void 0===n?void 0:n.body,...i}=e;return r?s.createPortal((0,o.createElement)(f.WV.div,(0,a.Z)({},i,{ref:t})),r):null});var et=n(1095),en=n(85740),er=n(93414),ei=n(28137),ea=n(472),eo=n(34182);let es=[" ","Enter","ArrowUp","ArrowDown"],el=[" ","Enter"],eu="Select",[ec,ep,ed]=(0,c.B)(eu),[eh,ef]=(0,d.b)(eu,[ed,$]),em=$(),[eg,eb]=eh(eu),[ey,ev]=eh(eu),ew=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,disabled:r=!1,...i}=e,s=em(n),l=eb("SelectTrigger",n),c=l.disabled||r,d=(0,p.e)(t,l.onTriggerChange),h=ep(n),[m,g,b]=eZ(e=>{let t=h().filter(e=>!e.disabled),n=t.find(e=>e.value===l.value),r=eW(t,e,n);void 0!==r&&l.onValueChange(r.value)}),y=()=>{c||(l.onOpenChange(!0),b())};return(0,o.createElement)(q,(0,a.Z)({asChild:!0},s),(0,o.createElement)(f.WV.button,(0,a.Z)({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":void 0===l.value?"":void 0},i,{ref:d,onClick:(0,u.M)(i.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,u.M)(i.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(y(),l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,u.M)(i.onKeyDown,e=>{let t=""!==m.current,n=e.ctrlKey||e.altKey||e.metaKey;n||1!==e.key.length||g(e.key),(!t||" "!==e.key)&&es.includes(e.key)&&(y(),e.preventDefault())})})))}),e_=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,className:r,style:i,children:s,placeholder:l,...u}=e,c=eb("SelectValue",n),{onValueNodeHasChildrenChange:d}=c,h=void 0!==s,m=(0,p.e)(t,c.onValueNodeChange);return(0,D.b)(()=>{d(h)},[d,h]),(0,o.createElement)(f.WV.span,(0,a.Z)({},u,{ref:m,style:{pointerEvents:"none"}}),void 0===c.value&&void 0!==l?l:s)}),eA=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,children:r,...i}=e;return(0,o.createElement)(f.WV.span,(0,a.Z)({"aria-hidden":!0},i,{ref:t}),r||"▼")}),eO="SelectContent",eE=(0,o.forwardRef)((e,t)=>{let n=eb(eO,e.__scopeSelect),[r,i]=(0,o.useState)();return((0,D.b)(()=>{i(new DocumentFragment)},[]),n.open)?(0,o.createElement)(eS,(0,a.Z)({},e,{ref:t})):r?(0,s.createPortal)((0,o.createElement)(ex,{scope:e.__scopeSelect},(0,o.createElement)(ec.Slot,{scope:e.__scopeSelect},(0,o.createElement)("div",null,e.children))),r):null}),[ex,eP]=eh(eO),eS=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:w,avoidCollisions:_,...O}=e,E=eb(eO,n),[x,S]=(0,o.useState)(null),[I,j]=(0,o.useState)(null),T=(0,p.e)(t,e=>S(e)),[C,k]=(0,o.useState)(null),[L,M]=(0,o.useState)(null),N=ep(n),[R,D]=(0,o.useState)(!1),z=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(x)return(0,ea.Ry)(x)},[x]),(0,A.EW)();let F=(0,o.useCallback)(e=>{let[t,...n]=N().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(let n of e)if(n===i||(null==n||n.scrollIntoView({block:"nearest"}),n===t&&I&&(I.scrollTop=0),n===r&&I&&(I.scrollTop=I.scrollHeight),null==n||n.focus(),document.activeElement!==i))return},[N,I]),U=(0,o.useCallback)(()=>F([C,x]),[F,C,x]);(0,o.useEffect)(()=>{R&&U()},[R,U]);let{onOpenChange:$,triggerPointerDownPosRef:B}=E;(0,o.useEffect)(()=>{if(x){let e={x:0,y:0},t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=B.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(a=B.current)||void 0===a?void 0:a.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():x.contains(n.target)||$(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[x,$,B]),(0,o.useEffect)(()=>{let e=()=>$(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[$]);let[K,q]=eZ(e=>{let t=N().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=eW(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),V=(0,o.useCallback)((e,t,n)=>{let r=!z.current&&!n,i=void 0!==E.value&&E.value===t;(i||r)&&(k(e),r&&(z.current=!0))},[E.value]),H=(0,o.useCallback)(()=>null==x?void 0:x.focus(),[x]),Z=(0,o.useCallback)((e,t,n)=>{let r=!z.current&&!n,i=void 0!==E.value&&E.value===t;(i||r)&&M(e)},[E.value]),W="popper"===r?ej:eI,Y=W===ej?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:w,avoidCollisions:_}:{};return(0,o.createElement)(ex,{scope:n,content:x,viewport:I,onViewportChange:j,itemRefCallback:V,selectedItem:C,onItemLeave:H,itemTextRefCallback:Z,focusSelectedItem:U,selectedItemText:L,position:r,isPositioned:R,searchRef:K},(0,o.createElement)(eo.Z,{as:et.g7,allowPinchZoom:!0},(0,o.createElement)(P,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,u.M)(i,e=>{var t;null===(t=E.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,o.createElement)(v,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1)},(0,o.createElement)(W,(0,a.Z)({role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault()},O,Y,{onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:(0,u.M)(O.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=N().filter(e=>!e.disabled),n=t.map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(n=n.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let t=e.target,r=n.indexOf(t);n=n.slice(r+1)}setTimeout(()=>F(n)),e.preventDefault()}})}))))))}),eI=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,onPlaced:r,...i}=e,s=eb(eO,n),u=eP(eO,n),[c,d]=(0,o.useState)(null),[h,m]=(0,o.useState)(null),g=(0,p.e)(t,e=>m(e)),b=ep(n),y=(0,o.useRef)(!1),v=(0,o.useRef)(!0),{viewport:w,selectedItem:_,selectedItemText:A,focusSelectedItem:O}=u,E=(0,o.useCallback)(()=>{if(s.trigger&&s.valueNode&&c&&h&&w&&_&&A){let e=s.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),i=A.getBoundingClientRect();if("rtl"!==s.dir){let r=i.left-t.left,a=n.left-r,o=e.left-a,s=e.width+o,u=Math.max(s,t.width),p=window.innerWidth-10,d=l(a,[10,p-u]);c.style.minWidth=s+"px",c.style.left=d+"px"}else{let r=t.right-i.right,a=window.innerWidth-n.right-r,o=window.innerWidth-e.right-a,s=e.width+o,u=Math.max(s,t.width),p=window.innerWidth-10,d=l(a,[10,p-u]);c.style.minWidth=s+"px",c.style.right=d+"px"}let a=b(),o=window.innerHeight-20,u=w.scrollHeight,p=window.getComputedStyle(h),d=parseInt(p.borderTopWidth,10),f=parseInt(p.paddingTop,10),m=parseInt(p.borderBottomWidth,10),g=parseInt(p.paddingBottom,10),v=d+f+u+g+m,O=Math.min(5*_.offsetHeight,v),E=window.getComputedStyle(w),x=parseInt(E.paddingTop,10),P=parseInt(E.paddingBottom,10),S=e.top+e.height/2-10,I=_.offsetHeight/2,j=_.offsetTop+I,T=d+f+j;if(T<=S){let e=_===a[a.length-1].ref.current;c.style.bottom="0px";let t=h.clientHeight-w.offsetTop-w.offsetHeight;c.style.height=T+Math.max(o-S,I+(e?P:0)+t+m)+"px"}else{let e=_===a[0].ref.current;c.style.top="0px";let t=Math.max(S,d+w.offsetTop+(e?x:0)+I);c.style.height=t+(v-T)+"px",w.scrollTop=T-S+w.offsetTop}c.style.margin="10px 0",c.style.minHeight=O+"px",c.style.maxHeight=o+"px",null==r||r(),requestAnimationFrame(()=>y.current=!0)}},[b,s.trigger,s.valueNode,c,h,w,_,A,s.dir,r]);(0,D.b)(()=>E(),[E]);let[x,P]=(0,o.useState)();(0,D.b)(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);let S=(0,o.useCallback)(e=>{e&&!0===v.current&&(E(),null==O||O(),v.current=!1)},[E,O]);return(0,o.createElement)(eT,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:S},(0,o.createElement)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},(0,o.createElement)(f.WV.div,(0,a.Z)({},i,{ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),ej=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,align:r="start",collisionPadding:i=10,...s}=e,l=em(n);return(0,o.createElement)(W,(0,a.Z)({},l,s,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[eT,eC]=eh(eO,{}),ek="SelectViewport",eL=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=eP(ek,n),s=eC(ek,n),l=(0,p.e)(t,i.onViewportChange),c=(0,o.useRef)(0);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,o.createElement)(ec.Slot,{scope:n},(0,o.createElement)(f.WV.div,(0,a.Z)({"data-radix-select-viewport":"",role:"presentation"},r,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:(0,u.M)(r.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=s;if(null!=r&&r.current&&n){let e=Math.abs(c.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),o=Math.max(i,a);if(o<r){let i=o+e,a=Math.min(r,i),s=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))))}),[eM,eN]=eh("SelectGroup"),eR=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=(0,k.M)();return(0,o.createElement)(eM,{scope:n,id:i},(0,o.createElement)(f.WV.div,(0,a.Z)({role:"group","aria-labelledby":i},r,{ref:t})))}),eD=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=eN("SelectLabel",n);return(0,o.createElement)(f.WV.div,(0,a.Z)({id:i.id},r,{ref:t}))}),ez="SelectItem",[eF,eU]=eh(ez),e$=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,c=eb(ez,n),d=eP(ez,n),h=c.value===r,[m,g]=(0,o.useState)(null!=s?s:""),[b,y]=(0,o.useState)(!1),v=(0,p.e)(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,r,i)}),w=(0,k.M)(),_=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};return(0,o.createElement)(eF,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:(0,o.useCallback)(e=>{g(t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[])},(0,o.createElement)(ec.ItemSlot,{scope:n,value:r,disabled:i,textValue:m},(0,o.createElement)(f.WV.div,(0,a.Z)({role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},l,{ref:v,onFocus:(0,u.M)(l.onFocus,()=>y(!0)),onBlur:(0,u.M)(l.onBlur,()=>y(!1)),onPointerUp:(0,u.M)(l.onPointerUp,_),onPointerMove:(0,u.M)(l.onPointerMove,e=>{if(i){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,u.M)(l.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}}),onKeyDown:(0,u.M)(l.onKeyDown,e=>{var t;let n=(null===(t=d.searchRef)||void 0===t?void 0:t.current)!=="";n&&" "===e.key||(el.includes(e.key)&&_()," "===e.key&&e.preventDefault())})}))))}),eB="SelectItemText",eK=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,className:r,style:i,...l}=e,u=eb(eB,n),c=eP(eB,n),d=eU(eB,n),h=ev(eB,n),[m,g]=(0,o.useState)(null),b=(0,p.e)(t,e=>g(e),d.onItemTextChange,e=>{var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,d.value,d.disabled)}),y=null==m?void 0:m.textContent,v=(0,o.useMemo)(()=>(0,o.createElement)("option",{key:d.value,value:d.value,disabled:d.disabled},y),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return(0,D.b)(()=>(w(v),()=>_(v)),[w,_,v]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(f.WV.span,(0,a.Z)({id:d.textId},l,{ref:b})),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?(0,s.createPortal)(l.children,u.valueNode):null)}),eq=(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=eU("SelectItemIndicator",n);return i.isSelected?(0,o.createElement)(f.WV.span,(0,a.Z)({"aria-hidden":!0},r,{ref:t})):null}),eV=((e,t)=>{let{__scopeSelect:n,onAutoScroll:r,...i}=e,s=eP("SelectScrollButton",n),l=(0,o.useRef)(null),c=ep(n),p=(0,o.useCallback)(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return(0,o.useEffect)(()=>()=>p(),[p]),(0,D.b)(()=>{var e;let t=c().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[c]),(0,o.createElement)(f.WV.div,(0,a.Z)({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,u.M)(i.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(r,50))}),onPointerMove:(0,u.M)(i.onPointerMove,()=>{var e;null===(e=s.onItemLeave)||void 0===e||e.call(s),null===l.current&&(l.current=window.setInterval(r,50))}),onPointerLeave:(0,u.M)(i.onPointerLeave,()=>{p()})}))},(0,o.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e;return(0,o.createElement)(f.WV.div,(0,a.Z)({"aria-hidden":!0},r,{ref:t}))})),eH=(0,o.forwardRef)((e,t)=>{let{value:n,...r}=e,i=(0,o.useRef)(null),s=(0,p.e)(t,i),l=(0,er.D)(n);return(0,o.useEffect)(()=>{let e=i.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value"),a=r.set;if(l!==n&&a){let t=new Event("change",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[l,n]),(0,o.createElement)(ei.T,{asChild:!0},(0,o.createElement)("select",(0,a.Z)({},r,{ref:s,defaultValue:n})))});function eZ(e){let t=(0,m.W)(e),n=(0,o.useRef)(""),r=(0,o.useRef)(0),i=(0,o.useCallback)(e=>{let i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=(0,o.useCallback)(()=>{n.current="",window.clearTimeout(r.current)},[]);return(0,o.useEffect)(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function eW(e,t,n){var r;let i=t.length>1&&Array.from(t).every(e=>e===t[0]),a=i?t[0]:t,o=n?e.indexOf(n):-1,s=(r=Math.max(o,0),e.map((t,n)=>e[(r+n)%e.length])),l=1===a.length;l&&(s=s.filter(e=>e!==n));let u=s.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==n?u:void 0}eH.displayName="BubbleSelect";let eY=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:u,dir:c,name:p,autoComplete:d,disabled:f,required:m}=e,g=em(t),[b,y]=(0,o.useState)(null),[v,w]=(0,o.useState)(null),[_,A]=(0,o.useState)(!1),O=(0,h.gm)(c),[E=!1,x]=(0,en.T)({prop:r,defaultProp:i,onChange:a}),[P,S]=(0,en.T)({prop:s,defaultProp:l,onChange:u}),I=(0,o.useRef)(null),j=!b||!!b.closest("form"),[T,C]=(0,o.useState)(new Set),L=Array.from(T).map(e=>e.props.value).join(";");return(0,o.createElement)(X,g,(0,o.createElement)(eg,{required:m,scope:t,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:(0,k.M)(),value:P,onValueChange:S,open:E,onOpenChange:x,dir:O,triggerPointerDownPosRef:I,disabled:f},(0,o.createElement)(ec.Provider,{scope:t},(0,o.createElement)(ey,{scope:e.__scopeSelect,onNativeOptionAdd:(0,o.useCallback)(e=>{C(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,o.useCallback)(e=>{C(t=>{let n=new Set(t);return n.delete(e),n})},[])},n)),j?(0,o.createElement)(eH,{key:L,"aria-hidden":!0,required:m,tabIndex:-1,name:p,autoComplete:d,value:P,onChange:e=>S(e.target.value),disabled:f},void 0===P?(0,o.createElement)("option",{value:""}):null,Array.from(T)):null))},eJ=ew,eG=e_,eQ=eA,eX=e=>(0,o.createElement)(ee,(0,a.Z)({asChild:!0},e)),e0=eE,e1=eL,e2=eR,e5=eD,e4=e$,e3=eK,e6=eq,e8=eV},93414:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(86006);function i(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},28137:function(e,t,n){"use strict";n.d(t,{T:function(){return o},f:function(){return s}});var r=n(40431),i=n(86006),a=n(76899);let o=(0,i.forwardRef)((e,t)=>(0,i.createElement)(a.WV.span,(0,r.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),s=o},39458:function(e,t,n){"use strict";n.d(t,{O7:function(){return c}}),n(5185);var r=n(49460);n(50420);var i=n(24201);n(20454),n(14961);var a=n(21909);n(11612),n(84456),n(4118);let o=`Write a concise summary of the following:


"{text}"


CONCISE SUMMARY:`,s=new i.PromptTemplate({template:o,inputVariables:["text"]}),l=`Your job is to produce a final summary
We have provided an existing summary up to a certain point: "{existing_answer}"
We have the opportunity to refine the existing summary
(only if needed) with some more context below.
------------
"{text}"
------------

Given the new context, refine the original summary
If the context isn't useful, return the original summary.

REFINED SUMMARY:`,u=new i.PromptTemplate({template:l,inputVariables:["existing_answer","text"]}),c=(e,t={type:"map_reduce"})=>{let{verbose:n}=t;if("stuff"===t.type){let{prompt:i=s}=t,o=new r.LLMChain({prompt:i,llm:e,verbose:n}),l=new a.StuffDocumentsChain({llmChain:o,documentVariableName:"text",verbose:n});return l}if("map_reduce"===t.type){let{combineMapPrompt:i=s,combinePrompt:o=s,returnIntermediateSteps:l}=t,u=new r.LLMChain({prompt:i,llm:e,verbose:n}),c=new r.LLMChain({prompt:o,llm:e,verbose:n}),p=new a.StuffDocumentsChain({llmChain:c,documentVariableName:"text",verbose:n}),d=new a.MapReduceDocumentsChain({llmChain:u,combineDocumentChain:p,documentVariableName:"text",returnIntermediateSteps:l,verbose:n});return d}if("refine"===t.type){let{refinePrompt:i=u,questionPrompt:o=s}=t,l=new r.LLMChain({prompt:o,llm:e,verbose:n}),c=new r.LLMChain({prompt:i,llm:e,verbose:n}),p=new a.RefineDocumentsChain({llmChain:l,refineLLMChain:c,documentVariableName:"text",verbose:n});return p}throw Error(`Invalid _type: ${t.type}`)};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function p(e){return null==e}n(58382),n(51085),n(76893),n(53853),n(51203),n(2966),n(73291);var d={isNothing:p,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:p(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,i,a;if(t)for(n=0,r=(a=Object.keys(t)).length;n<r;n+=1)e[i=a[n]]=t[i];return e}};function h(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function f(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=h(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack||""}function m(e,t,n,r,i){var a="",o="",s=Math.floor(i/2)-1;return r-t>s&&(t=r-s+(a=" ... ").length),n-r>s&&(n=r+s-(o=" ...").length),{str:a+e.slice(t,n).replace(/\t/g,"→")+o,pos:r-t+a.length}}function g(e,t){return d.repeat(" ",t-e.length)+e}f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.toString=function(e){return this.name+": "+h(this,e)};var b=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a=-1;o=n.exec(e.buffer);)i.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o,s,l,u="",c=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+c+3);for(s=1;s<=t.linesBefore&&!(a-s<0);s++)l=m(e.buffer,r[a-s],i[a-s],e.position-(r[a]-r[a-s]),p),u=d.repeat(" ",t.indent)+g((e.line-s+1).toString(),c)+" | "+l.str+"\n"+u;for(l=m(e.buffer,r[a],i[a],e.position,p),u+=d.repeat(" ",t.indent)+g((e.line+1).toString(),c)+" | "+l.str+"\n"+d.repeat("-",t.indent+c+3+l.pos)+"^\n",s=1;s<=t.linesAfter&&!(a+s>=i.length);s++)l=m(e.buffer,r[a+s],i[a+s],e.position-(r[a]-r[a+s]),p),u+=d.repeat(" ",t.indent)+g((e.line+s+1).toString(),c)+" | "+l.str+"\n";return u.replace(/\n$/,"")},y=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],v=["scalar","sequence","mapping"],w=function(e,t){var n,r;if(Object.keys(t=t||{}).forEach(function(t){if(-1===y.indexOf(t))throw new f('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=(n=t.styleAliases||null,r={},null!==n&&Object.keys(n).forEach(function(e){n[e].forEach(function(t){r[String(t)]=e})}),r),-1===v.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function _(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)}),n[t]=e}),n}function A(e){return this.extend(e)}A.prototype.extend=function(e){var t=[],n=[];if(e instanceof w)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new f("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(e){if(!(e instanceof w))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new f("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new f("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof w))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(A.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=_(r,"implicit"),r.compiledExplicit=_(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var O=new w("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),E=new w("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),x=new w("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),P=new A({explicit:[O,E,x]}),S=new w("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),I=new w("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),j=new w("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r,i,a=e.length,o=0,s=!1;if(!a)return!1;if(("-"===(i=e[o])||"+"===i)&&(i=e[++o]),"0"===i){if(o+1===a)return!0;if("b"===(i=e[++o])){for(o++;o<a;o++)if("_"!==(i=e[o])){if("0"!==i&&"1"!==i)return!1;s=!0}return s&&"_"!==i}if("x"===i){for(o++;o<a;o++)if("_"!==(i=e[o])){if(!(48<=(t=e.charCodeAt(o))&&t<=57||65<=t&&t<=70||97<=t&&t<=102))return!1;s=!0}return s&&"_"!==i}if("o"===i){for(o++;o<a;o++)if("_"!==(i=e[o])){if(!(48<=(n=e.charCodeAt(o))&&n<=55))return!1;s=!0}return s&&"_"!==i}}if("_"===i)return!1;for(;o<a;o++)if("_"!==(i=e[o])){if(!(48<=(r=e.charCodeAt(o))&&r<=57))return!1;s=!0}return!!s&&"_"!==i},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),("-"===(t=n[0])||"+"===t)&&("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!d.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),T=RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),C=/^[-+]?[0-9]+e/,k=new w("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return!!(null!==e&&T.test(e)&&"_"!==e[e.length-1])},construct:function(e){var t,n;return(n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t)?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||d.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(d.isNegativeZero(e))return"-0.0";return n=e.toString(10),C.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),L=P.extend({implicit:[S,I,j,k]}),M=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),N=RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),R=new w("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==M.exec(e)||null!==N.exec(e))},construct:function(e){var t,n,r,i,a,o,s,l,u=0,c=null;if(null===(t=M.exec(e))&&(t=N.exec(e)),null===t)throw Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=(60*+t[10]+ +(t[11]||0))*6e4,"-"===t[9]&&(c=-c)),l=new Date(Date.UTC(n,r,i,a,o,s,u)),c&&l.setTime(l.getTime()-c),l},instanceOf:Date,represent:function(e){return e.toISOString()}}),D=new w("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",F=new w("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length;for(n=0;n<i;n++)if(!((t=z.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=0,o=[];for(t=0;t<i;t++)t%4==0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)),a=a<<6|z.indexOf(r.charAt(t));return 0==(n=i%4*6)?(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)):18===n?(o.push(a>>10&255),o.push(a>>2&255)):12===n&&o.push(a>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",i=0,a=e.length;for(t=0;t<a;t++)t%3==0&&t&&(r+=z[i>>18&63]+z[i>>12&63]+z[i>>6&63]+z[63&i]),i=(i<<8)+e[t];return 0==(n=a%3)?r+=z[i>>18&63]+z[i>>12&63]+z[i>>6&63]+z[63&i]:2===n?r+=z[i>>10&63]+z[i>>4&63]+z[i<<2&63]+z[64]:1===n&&(r+=z[i>>2&63]+z[i<<4&63]+z[64]+z[64]),r}}),U=Object.prototype.hasOwnProperty,$=Object.prototype.toString,B=new w("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,a,o=[];for(t=0,n=e.length;t<n;t+=1){if(r=e[t],a=!1,"[object Object]"!==$.call(r))return!1;for(i in r)if(U.call(r,i)){if(a)return!1;a=!0}if(!a||-1!==o.indexOf(i))return!1;o.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),K=Object.prototype.toString,q=new w("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){var t,n,r,i,a;if(null===e)return!0;for(t=0,a=Array(e.length),n=e.length;t<n;t+=1){if(r=e[t],"[object Object]"!==K.call(r)||1!==(i=Object.keys(r)).length)return!1;a[t]=[i[0],r[i[0]]]}return!0},construct:function(e){var t,n,r,i,a;if(null===e)return[];for(t=0,a=Array(e.length),n=e.length;t<n;t+=1)i=Object.keys(r=e[t]),a[t]=[i[0],r[i[0]]];return a}}),V=Object.prototype.hasOwnProperty,H=new w("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){var t;if(null===e)return!0;for(t in e)if(V.call(e,t)&&null!==e[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),Z=L.extend({implicit:[R,D],explicit:[F,B,q,H]}),W=Object.prototype.hasOwnProperty,Y=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,J=/[\x85\u2028\u2029]/,G=/[,\[\]\{\}]/,Q=/^(?:!|!!|![a-z\-]+!)$/i,X=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ee(e){return Object.prototype.toString.call(e)}function et(e){return 10===e||13===e}function en(e){return 9===e||32===e}function er(e){return 9===e||32===e||10===e||13===e}function ei(e){return 44===e||91===e||93===e||123===e||125===e}function ea(e){return 48===e?"\x00":97===e?"\x07":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}for(var eo=Array(256),es=Array(256),el=0;el<256;el++)eo[el]=ea(el)?1:0,es[el]=ea(el);function eu(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Z,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ec(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=b(n),new f(t,n)}function ep(e,t){throw ec(e,t)}function ed(e,t){e.onWarning&&e.onWarning.call(null,ec(e,t))}var eh={YAML:function(e,t,n){var r,i,a;null!==e.version&&ep(e,"duplication of %YAML directive"),1!==n.length&&ep(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&ep(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),1!==i&&ep(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&ed(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&ep(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],Q.test(r)||ep(e,"ill-formed tag handle (first argument) of the TAG directive"),W.call(e.tagMap,r)&&ep(e,'there is a previously declared suffix for "'+r+'" tag handle'),X.test(i)||ep(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){ep(e,"tag prefix is malformed: "+i)}e.tagMap[r]=i}};function ef(e,t,n,r){var i,a,o,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;i<a;i+=1)9===(o=s.charCodeAt(i))||32<=o&&o<=1114111||ep(e,"expected valid JSON character");else Y.test(s)&&ep(e,"the stream contains non-printable characters");e.result+=s}}function em(e,t,n,r){var i,a,o,s;for(d.isObject(n)||ep(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,s=(i=Object.keys(n)).length;o<s;o+=1)a=i[o],W.call(t,a)||(t[a]=n[a],r[a]=!0)}function eg(e,t,n,r,i,a,o,s,l){var u,c;if(Array.isArray(i))for(u=0,c=(i=Array.prototype.slice.call(i)).length;u<c;u+=1)Array.isArray(i[u])&&ep(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===ee(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===ee(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r){if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)em(e,t,a[u],n);else em(e,t,a,n)}else!e.json&&!W.call(n,i)&&W.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,ep(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function eb(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):ep(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ey(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;en(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do i=e.input.charCodeAt(++e.position);while(10!==i&&13!==i&&0!==i);if(et(i))for(eb(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return -1!==n&&0!==r&&e.lineIndent<n&&ed(e,"deficient indentation"),r}function ev(e){var t,n=e.position;return!!((45===(t=e.input.charCodeAt(n))||46===t)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,0===(t=e.input.charCodeAt(n))||er(t)))}function ew(e,t){1===t?e.result+=" ":t>1&&(e.result+=d.repeat("\n",t-1))}function e_(e,t){var n,r,i=e.tag,a=e.anchor,o=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,ep(e,"tab characters must not be used in indentation")),45===r&&er(e.input.charCodeAt(e.position+1)));){if(s=!0,e.position++,ey(e,!0,-1)&&e.lineIndent<=t){o.push(null),r=e.input.charCodeAt(e.position);continue}if(n=e.line,eA(e,t,3,!1,!0),o.push(e.result),ey(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)ep(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return!!s&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=o,!0)}function eA(e,t,n,r,i){var a,o,s,l,u,c,p,h,f,m=1,g=!1,b=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=4===n||3===n,r&&ey(e,!0,-1)&&(g=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;function(e){var t,n,r,i,a=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&ep(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(a=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,a){do i=e.input.charCodeAt(++e.position);while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):ep(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!er(i);)33===i&&(o?ep(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),Q.test(n)||ep(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),G.test(r)&&ep(e,"tag suffix cannot contain flow indicator characters")}r&&!X.test(r)&&ep(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){ep(e,"tag name is malformed: "+r)}return a?e.tag=r:W.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:ep(e,'undeclared tag handle "'+n+'"'),!0}(e)||function(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&ep(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!er(n)&&!ei(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ep(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}(e);)ey(e,!0,-1)?(g=!0,s=a,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):s=!1;if(s&&(s=g||i),(1===m||4===n)&&(h=1===n||2===n?t:t+1,f=e.position-e.lineStart,1===m?s&&(e_(e,f)||function(e,t,n){var r,i,a,o,s,l,u,c=e.tag,p=e.anchor,d={},h=Object.create(null),f=null,m=null,g=null,b=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),u=e.input.charCodeAt(e.position);0!==u;){if(b||-1===e.firstTabInLine||(e.position=e.firstTabInLine,ep(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(63===u||58===u)&&er(r))63===u?(b&&(eg(e,d,h,f,m,null,o,s,l),f=m=g=null),y=!0,b=!0,i=!0):b?(b=!1,i=!0):ep(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=r;else{if(o=e.line,s=e.lineStart,l=e.position,!eA(e,n,2,!1,!0))break;if(e.line===a){for(u=e.input.charCodeAt(e.position);en(u);)u=e.input.charCodeAt(++e.position);if(58===u)er(u=e.input.charCodeAt(++e.position))||ep(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(eg(e,d,h,f,m,null,o,s,l),f=m=g=null),y=!0,b=!1,i=!1,f=e.tag,m=e.result;else{if(!y)return e.tag=c,e.anchor=p,!0;ep(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=c,e.anchor=p,!0;ep(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}if((e.line===a||e.lineIndent>t)&&(b&&(o=e.line,s=e.lineStart,l=e.position),eA(e,t,4,!0,i)&&(b?m=e.result:g=e.result),b||(eg(e,d,h,f,m,g,o,s,l),f=m=g=null),ey(e,!0,-1),u=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&0!==u)ep(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&eg(e,d,h,f,m,null,o,s,l),y&&(e.tag=c,e.anchor=p,e.kind="mapping",e.result=d),y}(e,f,h))||function(e,t){var n,r,i,a,o,s,l,u,c,p,d,h,f=!0,m=e.tag,g=e.anchor,b=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))o=93,u=!1,a=[];else{if(123!==h)return!1;o=125,u=!0,a={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),h=e.input.charCodeAt(++e.position);0!==h;){if(ey(e,!0,t),(h=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=m,e.anchor=g,e.kind=u?"mapping":"sequence",e.result=a,!0;f?44===h&&ep(e,"expected the node content, but found ','"):ep(e,"missed comma between flow collection entries"),p=c=d=null,s=l=!1,63===h&&er(e.input.charCodeAt(e.position+1))&&(s=l=!0,e.position++,ey(e,!0,t)),n=e.line,r=e.lineStart,i=e.position,eA(e,t,1,!1,!0),p=e.tag,c=e.result,ey(e,!0,t),h=e.input.charCodeAt(e.position),(l||e.line===n)&&58===h&&(s=!0,h=e.input.charCodeAt(++e.position),ey(e,!0,t),eA(e,t,1,!1,!0),d=e.result),u?eg(e,a,b,p,c,d,n,r,i):s?a.push(eg(e,null,b,p,c,d,n,r,i)):a.push(c),ey(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}ep(e,"unexpected end of the stream within a flow collection")}(e,h)?b=!0:(o&&function(e,t){var n,r,i,a,o,s=1,l=!1,u=!1,c=t,p=0,h=!1;if(124===(o=e.input.charCodeAt(e.position)))i=!1;else{if(62!==o)return!1;i=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)1===s?s=43===o?3:2:ep(e,"repeat of a chomping mode identifier");else if((a=48<=(n=o)&&n<=57?n-48:-1)>=0)0===a?ep(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?ep(e,"repeat of an indentation width identifier"):(c=t+a-1,u=!0);else break;if(en(o)){do o=e.input.charCodeAt(++e.position);while(en(o));if(35===o)do o=e.input.charCodeAt(++e.position);while(!et(o)&&0!==o)}for(;0!==o;){for(eb(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!u||e.lineIndent<c)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>c&&(c=e.lineIndent),et(o)){p++;continue}if(e.lineIndent<c){3===s?e.result+=d.repeat("\n",l?1+p:p):1===s&&l&&(e.result+="\n");break}for(i?en(o)?(h=!0,e.result+=d.repeat("\n",l?1+p:p)):h?(h=!1,e.result+=d.repeat("\n",p+1)):0===p?l&&(e.result+=" "):e.result+=d.repeat("\n",p):e.result+=d.repeat("\n",l?1+p:p),l=!0,u=!0,p=0,r=e.position;!et(o)&&0!==o;)o=e.input.charCodeAt(++e.position);ef(e,r,e.position,!1)}return!0}(e,h)||function(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(ef(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else et(n)?(ef(e,r,i,!0),ew(e,ey(e,!1,t)),r=i=e.position):e.position===e.lineStart&&ev(e)?ep(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ep(e,"unexpected end of the stream within a single quoted scalar")}(e,h)||function(e,t){var n,r,i,a,o,s,l,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return ef(e,n,e.position,!0),e.position++,!0;if(92===s){if(ef(e,n,e.position,!0),et(s=e.input.charCodeAt(++e.position)))ey(e,!1,t);else if(s<256&&eo[s])e.result+=es[s],e.position++;else if((o=120===(l=s)?2:117===l?4:85===l?8:0)>0){for(i=o,a=0;i>0;i--)(o=function(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}(s=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+o:ep(e,"expected hexadecimal character");e.result+=(u=a)<=65535?String.fromCharCode(u):String.fromCharCode((u-65536>>10)+55296,(u-65536&1023)+56320),e.position++}else ep(e,"unknown escape sequence");n=r=e.position}else et(s)?(ef(e,n,r,!0),ew(e,ey(e,!1,t)),n=r=e.position):e.position===e.lineStart&&ev(e)?ep(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}ep(e,"unexpected end of the stream within a double quoted scalar")}(e,h)?b=!0:function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!er(r)&&!ei(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ep(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),W.call(e.anchorMap,n)||ep(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],ey(e,!0,-1),!0}(e)?(b=!0,(null!==e.tag||null!==e.anchor)&&ep(e,"alias node should not have any properties")):function(e,t,n){var r,i,a,o,s,l,u,c,p=e.kind,d=e.result;if(er(c=e.input.charCodeAt(e.position))||ei(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c||(63===c||45===c)&&(er(r=e.input.charCodeAt(e.position+1))||n&&ei(r)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,o=!1;0!==c;){if(58===c){if(er(r=e.input.charCodeAt(e.position+1))||n&&ei(r))break}else if(35===c){if(er(e.input.charCodeAt(e.position-1)))break}else if(e.position===e.lineStart&&ev(e)||n&&ei(c))break;else if(et(c)){if(s=e.line,l=e.lineStart,u=e.lineIndent,ey(e,!1,-1),e.lineIndent>=t){o=!0,c=e.input.charCodeAt(e.position);continue}e.position=a,e.line=s,e.lineStart=l,e.lineIndent=u;break}o&&(ef(e,i,a,!1),ew(e,e.line-s),i=a=e.position,o=!1),en(c)||(a=e.position+1),c=e.input.charCodeAt(++e.position)}return ef(e,i,a,!1),!!e.result||(e.kind=p,e.result=d,!1)}(e,h,1===n)&&(b=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(b=s&&e_(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&ep(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,u=e.implicitTypes.length;l<u;l+=1)if((p=e.implicitTypes[l]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(W.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(l=0,p=null,u=(c=e.typeMap.multi[e.kind||"fallback"]).length;l<u;l+=1)if(e.tag.slice(0,c[l].tag.length)===c[l].tag){p=c[l];break}p||ep(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&ep(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):ep(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||b}function eO(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new eu(e,t),r=e.indexOf("\x00");for(-1!==r&&(n.position=r,ep(n,"null byte is not allowed in input")),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)!function(e){var t,n,r,i,a=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(ey(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0)&&37===i);){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!er(i);)i=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),r=[],n.length<1&&ep(e,"directive name must not be less than one character in length");0!==i;){for(;en(i);)i=e.input.charCodeAt(++e.position);if(35===i){do i=e.input.charCodeAt(++e.position);while(0!==i&&!et(i));break}if(et(i))break;for(t=e.position;0!==i&&!er(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&eb(e),W.call(eh,n)?eh[n](e,n,r):ed(e,'unknown document directive "'+n+'"')}if(ey(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,ey(e,!0,-1)):o&&ep(e,"directives end mark is expected"),eA(e,e.lineIndent-1,4,!1,!0),ey(e,!0,-1),e.checkLineBreaks&&J.test(e.input.slice(a,e.position))&&ed(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ev(e)){46===e.input.charCodeAt(e.position)&&(e.position+=3,ey(e,!0,-1));return}e.position<e.length-1&&ep(e,"end of the stream or a document separator is expected")}(n);return n.documents}var eE={loadAll:function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=eO(e,n);if("function"!=typeof t)return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])},load:function(e,t){var n=eO(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new f("expected a single document in the stream, but found more")}}},ex=Object.prototype.toString,eP=Object.prototype.hasOwnProperty,eS={};eS[0]="\\0",eS[7]="\\a",eS[8]="\\b",eS[9]="\\t",eS[10]="\\n",eS[11]="\\v",eS[12]="\\f",eS[13]="\\r",eS[27]="\\e",eS[34]='\\"',eS[92]="\\\\",eS[133]="\\N",eS[160]="\\_",eS[8232]="\\L",eS[8233]="\\P";var eI=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ej=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function eT(e,t){for(var n,r=d.repeat(" ",t),i=0,a=-1,o="",s=e.length;i<s;)-1===(a=e.indexOf("\n",i))?(n=e.slice(i),i=s):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function eC(e,t){return"\n"+d.repeat(" ",e.indent*t)}function ek(e){return 32===e||9===e}function eL(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function eM(e){return eL(e)&&65279!==e&&13!==e&&10!==e}function eN(e,t,n){var r=eM(e),i=r&&!ek(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||eM(t)&&!ek(t)&&35===e||58===t&&i}function eR(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?(r-55296)*1024+n-56320+65536:r}function eD(e){return/^\n* /.test(e)}function ez(e,t){var n=eD(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function eF(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function eU(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,a=0,o=0,s=0,l="";n=i.exec(e);)(s=n.index)-a>t&&(r=o>a?o:s,l+="\n"+e.slice(a,r),a=r+1),o=s;return l+="\n",e.length-a>t&&o>a?l+=e.slice(a,o)+"\n"+e.slice(o+1):l+=e.slice(a),l.slice(1)}function e$(e,t,n,r){var i,a,o,s="",l=e.tag;for(i=0,a=n.length;i<a;i+=1)o=n[i],e.replacer&&(o=e.replacer.call(n,String(i),o)),(eK(e,t+1,o,!0,!0,!1,!0)||void 0===o&&eK(e,t+1,null,!0,!0,!1,!0))&&(r&&""===s||(s+=eC(e,t)),e.dump&&10===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=l,e.dump=s||"[]"}function eB(e,t,n){var r,i,a,o,s,l;for(a=0,o=(i=n?e.explicitTypes:e.implicitTypes).length;a<o;a+=1)if(((s=i[a]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===ex.call(s.represent))r=s.represent(t,l);else if(eP.call(s.represent,l))r=s.represent[l](t,l);else throw new f("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=r}return!0}return!1}function eK(e,t,n,r,i,a,o){e.tag=null,e.dump=n,eB(e,n,!1)||eB(e,n,!0);var s,l=ex.call(e.dump),u=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var c,p,h,m="[object Object]"===l||"[object Array]"===l;if(m&&(h=-1!==(p=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(m&&h&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),"[object Object]"===l)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var i,a,o,s,l,u,c="",p=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new f("sortKeys must be a boolean or a function");for(i=0,a=d.length;i<a;i+=1)u="",r&&""===c||(u+=eC(e,t)),s=n[o=d[i]],e.replacer&&(s=e.replacer.call(n,o,s)),eK(e,t+1,o,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,l&&(u+=eC(e,t)),eK(e,t+1,s,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",u+=e.dump,c+=u));e.tag=p,e.dump=c||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+p+e.dump)):(!function(e,t,n){var r,i,a,o,s,l="",u=e.tag,c=Object.keys(n);for(r=0,i=c.length;r<i;r+=1)s="",""!==l&&(s+=", "),e.condenseFlow&&(s+='"'),o=n[a=c[r]],e.replacer&&(o=e.replacer.call(n,a,o)),eK(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),eK(e,t,o,!1,!1)&&(s+=e.dump,l+=s));e.tag=u,e.dump="{"+l+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else if("[object Array]"===l)r&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?e$(e,t-1,e.dump,i):e$(e,t,e.dump,i),h&&(e.dump="&ref_"+p+e.dump)):(!function(e,t,n){var r,i,a,o="",s=e.tag;for(r=0,i=n.length;r<i;r+=1)a=n[r],e.replacer&&(a=e.replacer.call(n,String(r),a)),(eK(e,t,a,!1,!1)||void 0===a&&eK(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else if("[object String]"===l)"?"!==e.tag&&(s=e.dump,e.dump=function(){if(0===s.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==eI.indexOf(s)||ej.test(s)))return 2===e.quotingType?'"'+s+'"':"'"+s+"'";var n=e.indent*Math.max(1,t),r=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n);switch(function(e,t,n,r,i,a,o,s){var l,u,c,p=0,d=null,h=!1,f=!1,m=-1!==r,g=-1,b=eL(l=eR(e,0))&&65279!==l&&!ek(l)&&45!==l&&63!==l&&58!==l&&44!==l&&91!==l&&93!==l&&123!==l&&125!==l&&35!==l&&38!==l&&42!==l&&33!==l&&124!==l&&61!==l&&62!==l&&39!==l&&34!==l&&37!==l&&64!==l&&96!==l&&!ek(u=eR(e,e.length-1))&&58!==u;if(t||o)for(c=0;c<e.length;p>=65536?c+=2:c++){if(!eL(p=eR(e,c)))return 5;b=b&&eN(p,d,s),d=p}else{for(c=0;c<e.length;p>=65536?c+=2:c++){if(10===(p=eR(e,c)))h=!0,m&&(f=f||c-g-1>r&&" "!==e[g+1],g=c);else if(!eL(p))return 5;b=b&&eN(p,d,s),d=p}f=f||m&&c-g-1>r&&" "!==e[g+1]}return h||f?n>9&&eD(e)?5:o?2===a?5:2:f?4:3:!b||o||i(e)?2===a?5:2:1}(s,a||e.flowLevel>-1&&t>=e.flowLevel,e.indent,r,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)},e.quotingType,e.forceQuotes&&!a,u)){case 1:return s;case 2:return"'"+s.replace(/'/g,"''")+"'";case 3:return"|"+ez(s,e.indent)+eF(eT(s,n));case 4:return">"+ez(s,e.indent)+eF(eT(function(e,t){for(var n,r,i,a=/(\n+)([^\n]*)/g,o=(n=-1!==(n=e.indexOf("\n"))?n:e.length,a.lastIndex=n,eU(e.slice(0,n),t)),s="\n"===e[0]||" "===e[0];i=a.exec(e);){var l=i[1],u=i[2];r=" "===u[0],o+=l+(s||r||""===u?"":"\n")+eU(u,t),s=r}return o}(s,r),n));case 5:return'"'+function(e){for(var t,n="",r=0,i=0;i<e.length;r>=65536?i+=2:i++)!(t=eS[r=eR(e,i)])&&eL(r)?(n+=e[i],r>=65536&&(n+=e[i+1])):n+=t||function(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new f("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+d.repeat("0",r-t.length)+t}(r);return n}(s)+'"';default:throw new f("impossible error: invalid scalar style")}}());else{if("[object Undefined]"===l||e.skipInvalid)return!1;throw new f("unacceptable kind of an object to dump "+l)}null!==e.tag&&"?"!==e.tag&&(c=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),c="!"===e.tag[0]?"!"+c:"tag:yaml.org,2002:"===c.slice(0,18)?"!!"+c.slice(18):"!<"+c+">",e.dump=c+" "+e.dump)}return!0}function eq(e,t){return function(){throw Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}eE.load,eE.loadAll,eq("safeLoad","load"),eq("safeLoadAll","loadAll"),eq("safeDump","dump"),n(90530),n(18003)},76875:function(e,t,n){"use strict";n.d(t,{F1:function(){return o},_i:function(){return i}});var r=n(49790);let i=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e,a=e=>{switch(i(e)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":default:return 4097;case"text-curie-001":case"text-babbage-001":case"text-ada-001":case"code-cushman-001":return 2048;case"code-davinci-002":return 8e3}},o=async({prompt:e,modelName:t})=>{let n;try{n=(await (0,r.b)(t)).encode(e).length}catch(t){console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(e.length/4)}let i=a(t);return i-n}},43851:function(e,t,n){"use strict";n.d(t,{BD:function(){return l},qV:function(){return u}});var r=n(76893),i=n(76875),a=n(49790),o=n(75395);let s=()=>!1;class l extends o.i{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??s(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class u extends l{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new r.L(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await (0,a.b)("modelName"in this?(0,i._i)(this.modelName):"gpt2")}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}return this._encoding&&(t=this._encoding.encode(e).length),t}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){let{_type:t,_model:r,...i}=e;if(r&&"base_chat_model"!==r)throw Error(`Cannot load LLM with model ${r}`);let a={openai:(await Promise.resolve().then(n.bind(n,90530))).ChatOpenAI}[t];if(void 0===a)throw Error(`Cannot load  LLM with type ${t}`);return new a(i)}}},52664:function(e,t,n){"use strict";let r,i,a;n.d(t,{Ye:function(){return X},QH:function(){return Z}});let o="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var s={randomUUID:o};let l=new Uint8Array(16);function u(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(l)}let c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));var p=function(e,t,n){if(s.randomUUID&&!t&&!e)return s.randomUUID();e=e||{};let r=e.random||(e.rng||u)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}(r)},d=n(75395),h=n(52040);class f{}class m extends f{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0===h||h.env?.LANGCHAIN_CALLBACKS_BACKGROUND!=="true"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent)}copy(){return new this.constructor(this)}toJSON(){return d.i.prototype.toJSON.call(this)}toJSONNotImplemented(){return d.i.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends m{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:p()}),Object.assign(this,e)}}}}var g=n(64596);class b extends m{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}_startTrace(e){if(void 0!==e.parent_run_id){let t=this.runMap.get(e.parent_run_id);t&&this._addChildRun(t,e)}this.runMap.set(e.id,e)}async _endTrace(e){let t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id)}_getExecutionOrder(e){let t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,r,i,a,o){let s=this._getExecutionOrder(r),l=Date.now(),u=o?{...i,metadata:o}:i,c={id:n,name:e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:l}],inputs:{prompts:t},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:u??{},tags:a||[]};this._startTrace(c),await this.onLLMStart?.(c)}async handleChatModelStart(e,t,n,r,i,a,o){let s=this._getExecutionOrder(r),l=Date.now(),u=o?{...i,metadata:o}:i,c={id:n,name:e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:l}],inputs:{messages:t},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:u??{},tags:a||[]};this._startTrace(c),await this.onLLMStart?.(c)}async handleLLMEnd(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="llm")throw Error("No LLM run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:n.end_time}),await this.onLLMEnd?.(n),await this._endTrace(n)}async handleLLMError(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="llm")throw Error("No LLM run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await this.onLLMError?.(n),await this._endTrace(n)}async handleChainStart(e,t,n,r,i,a){let o=this._getExecutionOrder(r),s=Date.now(),l={id:n,name:e.id[e.id.length-1],parent_run_id:r,start_time:s,serialized:e,events:[{name:"start",time:s}],inputs:t,execution_order:o,child_execution_order:o,run_type:"chain",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};this._startTrace(l),await this.onChainStart?.(l)}async handleChainEnd(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="chain")throw Error("No chain run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:n.end_time}),await this.onChainEnd?.(n),await this._endTrace(n)}async handleChainError(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="chain")throw Error("No chain run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await this.onChainError?.(n),await this._endTrace(n)}async handleToolStart(e,t,n,r,i,a){let o=this._getExecutionOrder(r),s=Date.now(),l={id:n,name:e.id[e.id.length-1],parent_run_id:r,start_time:s,serialized:e,events:[{name:"start",time:s}],inputs:{input:t},execution_order:o,child_execution_order:o,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};this._startTrace(l),await this.onToolStart?.(l)}async handleToolEnd(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="tool")throw Error("No tool run to end");n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:n.end_time}),await this.onToolEnd?.(n),await this._endTrace(n)}async handleToolError(e,t){let n=this.runMap.get(t);if(!n||n?.run_type!=="tool")throw Error("No tool run to end");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:n.end_time}),await this.onToolError?.(n),await this._endTrace(n)}async handleAgentAction(e,t){let n=this.runMap.get(t);n&&n?.run_type==="chain"&&(n.actions=n.actions||[],n.actions.push(e),n.events.push({name:"agent_action",time:Date.now(),kwargs:{action:e}}),await this.onAgentAction?.(n))}async handleAgentEnd(e,t){let n=this.runMap.get(t);n&&n?.run_type==="chain"&&(n.events.push({name:"agent_end",time:Date.now(),kwargs:{action:e}}),await this.onAgentEnd?.(n))}async handleText(e,t){let n=this.runMap.get(t);n&&n?.run_type==="chain"&&(n.events.push({name:"text",time:Date.now(),kwargs:{text:e}}),await this.onText?.(n))}async handleLLMNewToken(e,t,n){let r=this.runMap.get(n);r&&r?.run_type==="llm"&&(r.events.push({name:"new_token",time:Date.now(),kwargs:{token:e,idx:t}}),await this.onLLMNewToken?.(r))}}function y(e,t){return`${e.open}${t}${e.close}`}function v(e,t){try{return JSON.stringify(e,null,2)}catch(e){return t}}function w(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}let{color:_}=g;class A extends b{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){let t=[],n=e;for(;n.parent_run_id;){let e=this.runMap.get(n.parent_run_id);if(e)t.push(e),n=e;else break}return t}getBreadcrumbs(e){let t=this.getParents(e).reverse(),n=[...t,e].map((e,t,n)=>{let r=`${e.execution_order}:${e.run_type}:${e.name}`;return t===n.length-1?y(g.bold,r):r}).join(" > ");return y(_.grey,n)}onChainStart(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.green,"[chain/start]")} [${t}] Entering Chain run with input: ${v(e.inputs,"[inputs]")}`)}onChainEnd(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.cyan,"[chain/end]")} [${t}] [${w(e)}] Exiting Chain run with output: ${v(e.outputs,"[outputs]")}`)}onChainError(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.red,"[chain/error]")} [${t}] [${w(e)}] Chain run errored with error: ${v(e.error,"[error]")}`)}onLLMStart(e){let t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(e=>e.trim())}:e.inputs;console.log(`${y(_.green,"[llm/start]")} [${t}] Entering LLM run with input: ${v(n,"[inputs]")}`)}onLLMEnd(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.cyan,"[llm/end]")} [${t}] [${w(e)}] Exiting LLM run with output: ${v(e.outputs,"[response]")}`)}onLLMError(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.red,"[llm/error]")} [${t}] [${w(e)}] LLM run errored with error: ${v(e.error,"[error]")}`)}onToolStart(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.green,"[tool/start]")} [${t}] Entering Tool run with input: "${e.inputs.input?.trim()}"`)}onToolEnd(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.cyan,"[tool/end]")} [${t}] [${w(e)}] Exiting Tool run with output: "${e.outputs?.output?.trim()}"`)}onToolError(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.red,"[tool/error]")} [${t}] [${w(e)}] Tool run errored with error: ${v(e.error,"[error]")}`)}onAgentAction(e){let t=this.getBreadcrumbs(e);console.log(`${y(_.blue,"[agent/action]")} [${t}] Agent selected action: ${v(e.actions[e.actions.length-1],"[action]")}`)}}var O=n(84153),E=n(35853);let x=[400,401,403,404,405,406,407,408,409];class P{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;let t=E.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>O(()=>e(...t).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError")||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status;if(t&&x.includes(+t))throw e},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((t,n)=>{e.signal?.addEventListener("abort",()=>{n(Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(e=>e.ok?e:Promise.reject(e)))}}var S=n(52040);let I=()=>"undefined"!=typeof window&&void 0!==window.document,j=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,T=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),C=()=>"undefined"!=typeof Deno,k=()=>void 0!==S&&void 0!==S.versions&&void 0!==S.versions.node&&!C(),L=()=>I()?"browser":k()?"node":j()?"webworker":T()?"jsdom":C()?"deno":"other";async function M(){if(void 0===i){let e=L();i={library:"langsmith",runtime:e}}return i}function N(e){try{return void 0!==S?S.env?.[e]:void 0}catch(e){return}}let R=e=>{let t=e.replace("http://","").replace("https://",""),n=t.split("/")[0].split(":")[0];return"localhost"===n||"127.0.0.1"===n||"::1"===n},D=async(e,t)=>{let n=await e.text();if(!e.ok)throw Error(`Failed to ${t}: ${e.status} ${e.statusText} ${n}`)};async function z(e){let t=[];for await(let n of e)t.push(n);return t}class F{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let t=F.getDefaultClientConfig();this.apiUrl=e.apiUrl??t.apiUrl,this.apiKey=e.apiKey??t.apiKey,this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new P(e.callerOptions??{})}static getDefaultClientConfig(){let e=N("LANGCHAIN_API_KEY"),t=N("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984");return{apiUrl:t,apiKey:e}}validateApiKeyIfHosted(){let e=R(this.apiUrl);if(!e&&!this.apiKey)throw Error("API key must be provided when using hosted LangSmith API")}get headers(){let e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _get(e,t){let n=t?.toString()??"",r=`${this.apiUrl}${e}?${n}`,i=await this.caller.call(fetch,r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok)throw Error(`Failed to fetch ${e}: ${i.status} ${i.statusText}`);return i.json()}async *_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0,r=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(r));let i=`${this.apiUrl}${e}?${t}`,a=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!a.ok)throw Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);let o=await a.json();if(0===o.length||(yield o,o.length<r))break;n+=o.length}}async createRun(e){let t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},r=await M(),i=e.project_name;delete e.project_name;let a={session_name:i,...e,extra:{...e.extra,runtime:{...r,...n.runtime}}},o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await D(o,"create run")}async updateRun(e,t){let n={...this.headers,"Content-Type":"application/json"},r=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await D(r,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async _loadChildRuns(e){let t=await z(this.listRuns({id:e.child_run_ids})),n={},r={};for(let e of(t.sort((e,t)=>e.execution_order-t.execution_order),t)){if(null===e.parent_run_id||void 0===e.parent_run_id)throw Error(`Child run ${e.id} has no parent`);e.parent_run_id in n||(n[e.parent_run_id]=[]),n[e.parent_run_id].push(e),r[e.id]=e}for(let t in e.child_runs=n[e.id]||[],n)t!==e.id&&(r[t].child_runs=n[t]);return e}async *listRuns({projectId:e,projectName:t,parentRunId:n,referenceExampleId:r,datasetId:i,startTime:a,endTime:o,executionOrder:s,runType:l,error:u,id:c,limit:p,offset:d,query:h,filter:f,orderBy:m}){let g=new URLSearchParams,b=e;if(t){if(e)throw Error("Only one of projectId or projectName may be given");b=(await this.readProject({projectName:t})).id}if(b&&g.append("session",b),n&&g.append("parent_run",n),r&&g.append("reference_example",r),i&&g.append("dataset",i),a&&g.append("start_time",a.toISOString()),o&&g.append("end_time",o.toISOString()),s&&g.append("execution_order",s.toString()),l&&g.append("run_type",l),void 0!==u&&g.append("error",u.toString()),void 0!==c)for(let e of c)g.append("id",e);for await(let e of(void 0!==p&&g.append("limit",p.toString()),void 0!==d&&g.append("offset",d.toString()),void 0!==h&&g.append("query",h),void 0!==f&&g.append("filter",f),void 0!==m&&m.map(e=>g.append("order_by",e)),this._getPaginated("/runs",g)))yield*e}async deleteRun(e){let t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await D(t,"delete run")}async createProject({projectName:e,projectExtra:t,upsert:n}){let r=`${this.apiUrl}/sessions${n?"?upsert=true":""}`,i={name:e};void 0!==t&&(i.extra=t);let a=await this.caller.call(fetch,r,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)}),o=await a.json();if(!a.ok)throw Error(`Failed to create session ${e}: ${a.status} ${a.statusText}`);return o}async readProject({projectId:e,projectName:t}){let n,r="/sessions",i=new URLSearchParams;if(void 0!==e&&void 0!==t)throw Error("Must provide either projectName or projectId, not both");if(void 0!==e)r+=`/${e}`;else if(void 0!==t)i.append("name",t);else throw Error("Must provide projectName or projectId");let a=await this._get(r,i);if(Array.isArray(a)){if(0===a.length)throw Error(`Project[id=${e}, name=${t}] not found`);n=a[0]}else n=a;return n}async *listProjects(){for await(let e of this._getPaginated("/sessions"))yield*e}async deleteProject({projectId:e,projectName:t}){let n;if(void 0===e&&void 0===t)throw Error("Must provide projectName or projectId");if(void 0!==e&&void 0!==t)throw Error("Must provide either projectName or projectId, not both");n=void 0===e?(await this.readProject({projectName:t})).id:e;let r=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await D(r,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:r,description:i,dataType:a,name:o}){let s=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",e,t),n.forEach(e=>{l.append("input_keys",e)}),r.forEach(e=>{l.append("output_keys",e)}),i&&l.append("description",i),a&&l.append("data_type",a),o&&l.append("name",o);let u=await this.caller.call(fetch,s,{method:"POST",headers:this.headers,body:l,signal:AbortSignal.timeout(this.timeout_ms)});if(!u.ok){let e=await u.json();if(e.detail&&e.detail.includes("already exists"))throw Error(`Dataset ${t} already exists`);throw Error(`Failed to upload CSV: ${u.status} ${u.statusText}`)}let c=await u.json();return c}async createDataset(e,{description:t,dataType:n}={}){let r={name:e,description:t};n&&(r.data_type=n);let i=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok){let t=await i.json();if(t.detail&&t.detail.includes("already exists"))throw Error(`Dataset ${e} already exists`);throw Error(`Failed to create dataset ${i.status} ${i.statusText}`)}let a=await i.json();return a}async readDataset({datasetId:e,datasetName:t}){let n,r="/datasets",i=new URLSearchParams({limit:"1"});if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)r+=`/${e}`;else if(void 0!==t)i.append("name",t);else throw Error("Must provide datasetName or datasetId");let a=await this._get(r,i);if(Array.isArray(a)){if(0===a.length)throw Error(`Dataset[id=${e}, name=${t}] not found`);n=a[0]}else n=a;return n}async *listDatasets({limit:e=100,offset:t=0}={}){let n=new URLSearchParams({limit:e.toString(),offset:t.toString()});for await(let e of this._getPaginated("/datasets",n))yield*e}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",r=e;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==t){let e=await this.readDataset({datasetName:t});r=e.id}if(void 0!==r)n+=`/${r}`;else throw Error("Must provide datasetName or datasetId");let i=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok)throw Error(`Failed to delete ${n}: ${i.status} ${i.statusText}`);await i.json()}async createExample(e,t,{datasetId:n,datasetName:r,createdAt:i}){let a=n;if(void 0===a&&void 0===r)throw Error("Must provide either datasetName or datasetId");if(void 0!==a&&void 0!==r)throw Error("Must provide either datasetName or datasetId, not both");if(void 0===a){let e=await this.readDataset({datasetName:r});a=e.id}let o=i||new Date,s={dataset_id:a,inputs:e,outputs:t,created_at:o.toISOString()},l=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms)});if(!l.ok)throw Error(`Failed to create example: ${l.status} ${l.statusText}`);let u=await l.json();return u}async readExample(e){let t=`/examples/${e}`;return await this._get(t)}async *listExamples({datasetId:e,datasetName:t}={}){let n;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)n=e;else if(void 0!==t){let e=await this.readDataset({datasetName:t});n=e.id}else throw Error("Must provide a datasetName or datasetId");let r=new URLSearchParams({dataset:n});for await(let e of this._getPaginated("/examples",r))yield*e}async deleteExample(e){let t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){let n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);let r=await n.json();return r}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:r}={loadChildRuns:!1}){let i,a;if("string"==typeof e)i=await this.readRun(e,{loadChildRuns:r});else if("object"==typeof e&&"id"in e)i=e;else throw Error(`Invalid run type: ${typeof e}`);null!==i.reference_example_id&&void 0!==i.reference_example_id&&(a=await this.readExample(i.reference_example_id));let o=await t.evaluateRun(i,a),s=n??{};return o.evaluatorInfo&&(s={...s,...o.evaluatorInfo}),await this.createFeedback(i.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:s,feedbackSourceType:"MODEL"})}async createFeedback(e,t,{score:n,value:r,correction:i,comment:a,sourceInfo:o,feedbackSourceType:s="API"}){let l;if("API"===s)l={type:"api",metadata:o??{}};else if("MODEL"===s)l={type:"model",metadata:o??{}};else throw Error(`Unknown feedback source type ${s}`);let u={id:p(),run_id:e,key:t,score:n,value:r,correction:i,comment:a,feedback_source:l},c=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw Error(`Failed to create feedback for run ${e}: ${c.status} ${c.statusText}`);let d=await c.json();return d}async readFeedback(e){let t=`/feedback/${e}`,n=await this._get(t);return n}async deleteFeedback(e){let t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async *listFeedback({runIds:e}={}){let t=new URLSearchParams;for await(let n of(e&&t.append("run",e.join(",")),this._getPaginated("/feedback",t)))yield*n}}var U=n(53853);class $ extends b{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{exampleId:t,projectName:n,client:r}=e;this.projectName=n??(0,U.lS)("LANGCHAIN_PROJECT")??(0,U.lS)("LANGCHAIN_SESSION"),this.exampleId=t,this.client=r??new F({})}async _convertToCreate(e,t){return{...e,extra:{...e.extra,runtime:await (0,U.sA)()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){let t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){let t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events};await this.client.updateRun(e.id,t)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}var B=n(2365);class K extends b{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:(0,U.lS)("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=(0,U.lS)("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){let t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){let t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){let e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){let t;let n=this.session??await this.loadDefaultSession(),r=e.serialized;if("llm"===e.run_type){let i=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(e=>(0,B.zs)(e)),a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:n.id,prompts:i,response:e.outputs};t=a}else if("chain"===e.run_type){let i=await Promise.all(e.child_runs.map(e=>this.convertV2RunToRun(e))),a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:n.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:i.filter(e=>"llm"===e.type),child_chain_runs:i.filter(e=>"chain"===e.type),child_tool_runs:i.filter(e=>"tool"===e.type)};t=a}else if("tool"===e.run_type){let i=await Promise.all(e.child_runs.map(e=>this.convertV2RunToRun(e))),a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:n.id,tool_input:e.inputs.input,output:e.outputs?.output,action:JSON.stringify(r),child_llm_runs:i.filter(e=>"llm"===e.type),child_chain_runs:i.filter(e=>"chain"===e.type),child_tool_runs:i.filter(e=>"tool"===e.type)};t=a}else throw Error(`Unknown run type: ${e.run_type}`);return t}async persistRun(e){let t,n;t="llm"===(n=void 0!==e.run_type?await this.convertV2RunToRun(e):e).type?`${this.endpoint}/llm-runs`:"chain"===n.type?`${this.endpoint}/chain-runs`:`${this.endpoint}/tool-runs`;let r=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});r.ok||console.error(`Failed to persist run: ${r.status} ${r.statusText}`)}async persistSession(e){let t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){let t;let n=await fetch(e,{method:"GET",headers:this.headers});if(!n.ok)return console.error(`Failed to load session: ${n.status} ${n.statusText}`),t={id:1,start_time:Date.now()},this.session=t,t;let r=await n.json();return 0===r.length?(t={id:1,start_time:Date.now()},this.session=t,t):([t]=r,this.session=t,t)}}async function q(e){let t=new K;return e?await t.loadSession(e):await t.loadDefaultSession(),t}async function V(){return new $}async function H(e,t){!0===t?await e():(void 0===a&&(a=function(){let e=E.default;return new e({autoStart:!0,concurrency:1})}()),a.add(e))}function Z(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}class W{setHandler(e){return this.setHandlers([e])}}class Y{constructor(e,t,n,r,i,a,o,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}async handleText(e){await Promise.all(this.handlers.map(t=>H(async()=>{try{await t.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleText: ${e}`)}},t.awaitHandlers)))}}class J extends Y{async handleLLMNewToken(e,t={prompt:0,completion:0}){await Promise.all(this.handlers.map(n=>H(async()=>{if(!n.ignoreLLM)try{await n.handleLLMNewToken?.(e,t,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${e}`)}},n.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${e}`)}},t.awaitHandlers)))}}class G extends Y{getChild(e){let t=new X(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainError: ${e}`)}},t.awaitHandlers)))}async handleChainEnd(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${e}`)}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreAgent)try{await t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${e}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreAgent)try{await t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${e}`)}},t.awaitHandlers)))}}class Q extends Y{getChild(e){let t=new X(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreAgent)try{await t.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${e}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>H(async()=>{if(!t.ignoreAgent)try{await t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${e}`)}},t.awaitHandlers)))}}class X extends W{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n,r,i){return Promise.all(t.map(async t=>{let n=p();return await Promise.all(this.handlers.map(r=>H(async()=>{if(!r.ignoreLLM)try{await r.handleLLMStart?.(e,[t],n,this._parentRunId,i,this.tags,this.metadata)}catch(e){console.error(`Error in handler ${r.constructor.name}, handleLLMStart: ${e}`)}},r.awaitHandlers))),new J(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,n,r,i){return Promise.all(t.map(async t=>{let n=p();return await Promise.all(this.handlers.map(r=>H(async()=>{if(!r.ignoreLLM)try{if(r.handleChatModelStart)await r.handleChatModelStart?.(e,[t],n,this._parentRunId,i,this.tags,this.metadata);else if(r.handleLLMStart){let a=(0,B.zs)(t);await r.handleLLMStart?.(e,[a],n,this._parentRunId,i,this.tags,this.metadata)}}catch(e){console.error(`Error in handler ${r.constructor.name}, handleLLMStart: ${e}`)}},r.awaitHandlers))),new J(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,n=p()){return await Promise.all(this.handlers.map(r=>H(async()=>{if(!r.ignoreChain)try{await r.handleChainStart?.(e,t,n,this._parentRunId,this.tags,this.metadata)}catch(e){console.error(`Error in handler ${r.constructor.name}, handleChainStart: ${e}`)}},r.awaitHandlers))),new G(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=p()){return await Promise.all(this.handlers.map(r=>H(async()=>{if(!r.ignoreAgent)try{await r.handleToolStart?.(e,t,n,this._parentRunId,this.tags,this.metadata)}catch(e){console.error(`Error in handler ${r.constructor.name}, handleToolStart: ${e}`)}},r.awaitHandlers))),new Q(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){for(let n of(this.handlers=[],this.inheritableHandlers=[],e))this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(let t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){let n=new X(this._parentRunId);for(let e of this.handlers){let t=this.inheritableHandlers.includes(e);n.addHandler(e,t)}for(let e of this.tags){let t=this.inheritableTags.includes(e);n.addTags([e],t)}for(let e of Object.keys(this.metadata)){let t=Object.keys(this.inheritableMetadata).includes(e);n.addMetadata({[e]:this.metadata[e]},t)}for(let r of e)n.handlers.filter(e=>"console_callback_handler"===e.name).some(e=>e.name===r.name)||n.addHandler(r,t);return n}static fromHandlers(e){let t=new this;return t.addHandler(new class extends m{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:p()}),Object.assign(this,e)}}),t}static async configure(e,t,n,r,i,a,o){let s;(e||t)&&(Array.isArray(e)||!e?(s=new X).setHandlers(e?.map(ee)??[],!0):s=e,s=s.copy(Array.isArray(t)?t.map(ee):t?.handlers,!1));let l=(0,U.lS)("LANGCHAIN_VERBOSE")||o?.verbose,u=(0,U.lS)("LANGCHAIN_TRACING_V2")??!1,c=u||((0,U.lS)("LANGCHAIN_TRACING")??!1);if(l||c){if(s||(s=new X),l&&!s.handlers.some(e=>e.name===A.prototype.name)){let e=new A;s.addHandler(e,!0)}if(c&&!s.handlers.some(e=>"langchain_tracer"===e.name)){if(u)s.addHandler(await V(),!0);else{let e=(0,U.lS)("LANGCHAIN_PROJECT")&&(0,U.lS)("LANGCHAIN_SESSION");s.addHandler(await q(e),!0)}}}return(n||r)&&s&&(s.addTags(n??[]),s.addTags(r??[],!1)),(i||a)&&s&&(s.addMetadata(i??{}),s.addMetadata(a??{},!1)),s}}function ee(e){return"name"in e?e:m.fromMethods(e)}},50420:function(e,t,n){"use strict";n.d(t,{APIChain:function(){return c}});var r=n(5185),i=n(49460),a=n(24201);let o=`You are given the below API Documentation:
{api_docs}
Using this documentation, generate the full API url to call for answering the user question.
You should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.

Question:{question}
API url:`,s=new a.PromptTemplate({inputVariables:["api_docs","question"],template:o}),l=`${o} {api_url}

Here is the response from the API:

{api_response}

Summarize this response to answer the original question.

Summary:`,u=new a.PromptTemplate({inputVariables:["api_docs","question","api_url","api_response"],template:l});class c extends r.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"apiAnswerChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiRequestChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiDocs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),this.apiRequestChain=e.apiRequestChain,this.apiAnswerChain=e.apiAnswerChain,this.apiDocs=e.apiDocs,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.headers=e.headers??this.headers}async _call(e,t){let n=e[this.inputKey],r=await this.apiRequestChain.predict({question:n,api_docs:this.apiDocs},t?.getChild("request")),i=await fetch(r,{headers:this.headers}),a=await i.text(),o=await this.apiAnswerChain.predict({question:n,api_docs:this.apiDocs,api_url:r,api_response:a},t?.getChild("response"));return{[this.outputKey]:o}}_chainType(){return"api_chain"}static async deserialize(e){let{api_request_chain:t,api_answer_chain:n,api_docs:r}=e;if(!t)throw Error("LLMChain must have api_request_chain");if(!n)throw Error("LLMChain must have api_answer_chain");if(!r)throw Error("LLMChain must have api_docs");return new c({apiAnswerChain:await i.LLMChain.deserialize(n),apiRequestChain:await i.LLMChain.deserialize(t),apiDocs:r})}serialize(){return{_type:this._chainType(),api_answer_chain:this.apiAnswerChain.serialize(),api_request_chain:this.apiRequestChain.serialize(),api_docs:this.apiDocs}}static fromLLMAndAPIDocs(e,t,n={}){let{apiUrlPrompt:r=s,apiResponsePrompt:a=u}=n,o=new i.LLMChain({prompt:r,llm:e}),l=new i.LLMChain({prompt:a,llm:e});return new this({apiAnswerChain:l,apiRequestChain:o,apiDocs:t,...n})}}},5185:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(20454),i=n(52664),a=n(43851);class o extends a.BD{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,t,n){if(1!=arguments.length||"object"!=typeof e||"saveContext"in e)super({verbose:t,callbacks:n}),this.memory=e;else{let{memory:t,callbackManager:n,...r}=e;super({...r,callbacks:n??r.callbacks}),this.memory=t}}_selectMemoryInputs(e){let t={...e};return"signal"in t&&delete t.signal,"timeout"in t&&delete t.timeout,t}serialize(){throw Error("Method not implemented.")}async run(e,t){let n=this.inputKeys.filter(e=>!this.memory?.memoryKeys.includes(e)??!0),r=n.length<=1;if(!r)throw Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);let i=n.length?{[n[0]]:e}:{},a=await this.call(i,t),o=Object.keys(a);if(1===o.length)return a[o[0]];throw Error("return values have multiple keys, `run` only supported when one key currently")}async call(e,t,n){let a;let o={...e};if(o.timeout&&!o.signal&&(o.signal=AbortSignal.timeout(o.timeout),delete o.timeout),null!=this.memory){let t=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(let[e,n]of Object.entries(t))o[e]=n}let s=(0,i.QH)(t),l=await i.Ye.configure(s.callbacks,this.callbacks,s.tags||n,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),u=await l?.handleChainStart(this.toJSON(),o);try{a=await (e.signal?Promise.race([this._call(o,u),new Promise((t,n)=>{e.signal?.addEventListener("abort",()=>{n(Error("AbortError"))})})]):this._call(o,u))}catch(e){throw await u?.handleChainError(e),e}return null!=this.memory&&await this.memory.saveContext(this._selectMemoryInputs(e),a),await u?.handleChainEnd(a),Object.defineProperty(a,r.WH,{value:u?{runId:u?.runId}:void 0,configurable:!0}),a}async apply(e,t){return Promise.all(e.map(async(e,n)=>this.call(e,t?.[n])))}static async deserialize(e,t={}){switch(e._type){case"llm_chain":{let{LLMChain:t}=await Promise.resolve().then(n.bind(n,49460));return t.deserialize(e)}case"sequential_chain":{let{SequentialChain:t}=await Promise.resolve().then(n.bind(n,14961));return t.deserialize(e)}case"simple_sequential_chain":{let{SimpleSequentialChain:t}=await Promise.resolve().then(n.bind(n,14961));return t.deserialize(e)}case"stuff_documents_chain":{let{StuffDocumentsChain:t}=await Promise.resolve().then(n.bind(n,21909));return t.deserialize(e)}case"map_reduce_documents_chain":{let{MapReduceDocumentsChain:t}=await Promise.resolve().then(n.bind(n,21909));return t.deserialize(e)}case"refine_documents_chain":{let{RefineDocumentsChain:t}=await Promise.resolve().then(n.bind(n,21909));return t.deserialize(e)}case"vector_db_qa":{let{VectorDBQAChain:r}=await Promise.resolve().then(n.bind(n,4118));return r.deserialize(e,t)}case"api_chain":{let{APIChain:t}=await Promise.resolve().then(n.bind(n,50420));return t.deserialize(e)}default:throw Error(`Invalid prompt type in config: ${e._type}`)}}}},21909:function(e,t,n){"use strict";n.d(t,{MapReduceDocumentsChain:function(){return s},RefineDocumentsChain:function(){return l},StuffDocumentsChain:function(){return o}});var r=n(5185),i=n(49460),a=n(24201);class o extends r.l{get inputKeys(){return[this.inputKey,...this.llmChain.inputKeys].filter(e=>e!==this.documentVariableName)}get outputKeys(){return this.llmChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),this.llmChain=e.llmChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey}_prepInputs(e){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:t,...n}=e,r=t.map(({pageContent:e})=>e),i=r.join("\n\n");return{...n,[this.documentVariableName]:i}}async _call(e,t){let n=await this.llmChain.call(this._prepInputs(e),t?.getChild("combine_documents"));return n}_chainType(){return"stuff_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw Error("Missing llm_chain");return new o({llmChain:await i.LLMChain.deserialize(e.llm_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize()}}}class s extends r.l{get inputKeys(){return[this.inputKey,...this.combineDocumentChain.inputKeys]}get outputKeys(){return this.combineDocumentChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"ensureMapStep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"combineDocumentChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=e.llmChain,this.combineDocumentChain=e.combineDocumentChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.ensureMapStep=e.ensureMapStep??this.ensureMapStep,this.inputKey=e.inputKey??this.inputKey,this.maxTokens=e.maxTokens??this.maxTokens,this.maxIterations=e.maxIterations??this.maxIterations,this.returnIntermediateSteps=e.returnIntermediateSteps??!1}async _call(e,t){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:n,...r}=e,i=n,a=[];for(let e=0;e<this.maxIterations;e+=1){let n=i.map(e=>({[this.documentVariableName]:e.pageContent,...r})),o=0!==e||!this.ensureMapStep;if(o){let e=await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({[this.combineDocumentChain.inputKey]:i,...r})),t=await this.combineDocumentChain.llmChain.llm.getNumTokens(e),n=t<this.maxTokens;if(n)break}let s=await this.llmChain.apply(n,t?Array.from({length:n.length},(e,n)=>t.getChild(`map_${n+1}`)):void 0),{outputKey:l}=this.llmChain;this.returnIntermediateSteps&&(a=a.concat(s.map(e=>e[l]))),i=s.map(e=>({pageContent:e[l],metadata:{}}))}let o={[this.combineDocumentChain.inputKey]:i,...r},s=await this.combineDocumentChain.call(o,t?.getChild("combine_documents"));return this.returnIntermediateSteps?{...s,intermediateSteps:a}:s}_chainType(){return"map_reduce_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw Error("Missing llm_chain");if(!e.combine_document_chain)throw Error("Missing combine_document_chain");return new s({llmChain:await i.LLMChain.deserialize(e.llm_chain),combineDocumentChain:await o.deserialize(e.combine_document_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),combine_document_chain:this.combineDocumentChain.serialize()}}}class l extends r.l{get defaultDocumentPrompt(){return new a.PromptTemplate({inputVariables:["page_content"],template:"{page_content}"})}get inputKeys(){return[...new Set([this.inputKey,...this.llmChain.inputKeys,...this.refineLLMChain.inputKeys])].filter(e=>e!==this.documentVariableName&&e!==this.initialResponseName)}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output_text"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"initialResponseName",{enumerable:!0,configurable:!0,writable:!0,value:"existing_answer"}),Object.defineProperty(this,"refineLLMChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentPrompt",{enumerable:!0,configurable:!0,writable:!0,value:this.defaultDocumentPrompt}),this.llmChain=e.llmChain,this.refineLLMChain=e.refineLLMChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.documentPrompt=e.documentPrompt??this.documentPrompt,this.initialResponseName=e.initialResponseName??this.initialResponseName}async _constructInitialInputs(e,t){let n={page_content:e.pageContent,...e.metadata},r={};this.documentPrompt.inputVariables.forEach(e=>{r[e]=n[e]});let i={[this.documentVariableName]:await this.documentPrompt.format({...r})},a={...i,...t};return a}async _constructRefineInputs(e,t){let n={page_content:e.pageContent,...e.metadata},r={};this.documentPrompt.inputVariables.forEach(e=>{r[e]=n[e]});let i={[this.documentVariableName]:await this.documentPrompt.format({...r})},a={[this.initialResponseName]:t,...i};return a}async _call(e,t){if(!(this.inputKey in e))throw Error(`Document key ${this.inputKey} not found.`);let{[this.inputKey]:n,...r}=e,i=await this._constructInitialInputs(n[0],r),a=await this.llmChain.predict({...i},t?.getChild("answer")),o=[a];for(let e=1;e<n.length;e+=1){let i=await this._constructRefineInputs(n[e],a),s={...i,...r};a=await this.refineLLMChain.predict({...s},t?.getChild("refine")),o.push(a)}return{[this.outputKey]:a}}_chainType(){return"refine_documents_chain"}static async deserialize(e){let t=e.llm_chain;if(!t)throw Error("Missing llm_chain");let n=e.refine_llm_chain;if(!n)throw Error("Missing refine_llm_chain");return new l({llmChain:await i.LLMChain.deserialize(t),refineLLMChain:await i.LLMChain.deserialize(n)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),refine_llm_chain:this.refineLLMChain.serialize()}}}},49460:function(e,t,n){"use strict";n.d(t,{LLMChain:function(){return l}});var r=n(5185),i=n(29144),a=n(43851),o=n(73291);class s extends o.bI{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","default"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}class l extends r.l{get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llmKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,this.llm=e.llm,this.llmKwargs=e.llmKwargs,this.outputKey=e.outputKey??this.outputKey,this.outputParser=e.outputParser??new s,this.prompt.outputParser){if(e.outputParser)throw Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}_selectMemoryInputs(e){let t=super._selectMemoryInputs(e);for(let n of this.llm.callKeys)n in e&&delete t[n];return t}async _getFinalOutput(e,t,n){return this.outputParser?await this.outputParser.parseResultWithPrompt(e,t,n?.getChild()):e[0].text}call(e,t){return super.call(e,t)}async _call(e,t){let n={...e},r={...this.llmKwargs};for(let t of this.llm.callKeys)t in e&&(r[t]=e[t],delete n[t]);let i=await this.prompt.formatPromptValue(n),{generations:a}=await this.llm.generatePrompt([i],r,t?.getChild());return{[this.outputKey]:await this._getFinalOutput(a[0],i,t)}}async predict(e,t){let n=await this.call(e,t);return n[this.outputKey]}_chainType(){return"llm"}static async deserialize(e){let{llm:t,prompt:n}=e;if(!t)throw Error("LLMChain must have llm");if(!n)throw Error("LLMChain must have prompt");return new l({llm:await a.qV.deserialize(t),prompt:await i.dy.deserialize(n)})}serialize(){return{_type:`${this._chainType()}_chain`,llm:this.llm.serialize(),prompt:this.prompt.serialize()}}}},11612:function(e,t,n){"use strict";n.d(t,{cf:function(){return h}});var r=n(49460),i=n(21909),a=n(24201),o=n(18003);class s{async getPromptAsync(e,t){let n=this.getPrompt(e);return n.partial(t?.partialVariables??{})}}let l=new a.PromptTemplate({template:"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:",inputVariables:["context","question"]}),u=`Use the following pieces of context to answer the users question. 
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}`,c=[o.ov.fromTemplate(u),o.kq.fromTemplate("{question}")],p=o.ks.fromPromptMessages(c),d=new class extends s{constructor(e,t=[]){super(),Object.defineProperty(this,"defaultPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"conditionals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultPrompt=e,this.conditionals=t}getPrompt(e){for(let[t,n]of this.conditionals)if(t(e))return n;return this.defaultPrompt}}(l,[[function(e){return"base_chat_model"===e._modelType()},p]]);n(20865);function h(e,t={}){let{prompt:n=d.getPrompt(e),verbose:a}=t,o=new r.LLMChain({prompt:n,llm:e,verbose:a}),s=new i.StuffDocumentsChain({llmChain:o,verbose:a});return s}},14961:function(e,t,n){"use strict";n.d(t,{SequentialChain:function(){return s},SimpleSequentialChain:function(){return l}});var r=n(5185);function i(e,t){let n=new Set;for(let r of t)e.has(r)&&n.add(r);return n}function a(e,t){let n=new Set(e);for(let e of t)n.delete(e);return n}function o(e){return Array.from(e).map(e=>`"${e}"`).join(", ")}class s extends r.l{get inputKeys(){return this.inputVariables}get outputKeys(){return this.outputVariables}constructor(e){if(super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.inputVariables=e.inputVariables,this.outputVariables=e.outputVariables??[],this.outputVariables.length>0&&e.returnAll)throw Error("Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.");this.returnAll=e.returnAll??!1,this._validateChains()}_validateChains(){if(0===this.chains.length)throw Error("Sequential chain must have at least one chain.");let e=this.memory?.memoryKeys??[],t=new Set(this.inputKeys),n=new Set(e),r=i(t,n);if(r.size>0)throw Error(`The following keys: ${o(r)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);let s=function(e,t){let n=new Set(e);for(let e of t)n.add(e);return n}(t,n);for(let e of this.chains){let t=a(new Set(e.inputKeys),s);if(t.size>0)throw Error(`Missing variables for chain "${e._chainType()}": ${o(t)}. Only got the following variables: ${o(s)}.`);let n=new Set(e.outputKeys),r=i(s,n);if(r.size>0)throw Error(`The following output variables for chain "${e._chainType()}" are overlapping: ${o(r)}. This can lead to unexpected behaviour.`);for(let e of n)s.add(e)}if(0===this.outputVariables.length){if(this.returnAll){let e=a(s,t);this.outputVariables=Array.from(e)}else this.outputVariables=this.chains[this.chains.length-1].outputKeys}else{let e=a(new Set(this.outputVariables),new Set(s));if(e.size>0)throw Error(`The following output variables were expected to be in the final chain output but were not found: ${o(e)}.`)}}async _call(e,t){let n={},r=0;for(let i of this.chains)for(let a of(r+=1,Object.keys(n=await i.call(e,t?.getChild(`step_${r}`)))))e[a]=n[a];let i={};for(let t of this.outputVariables)i[t]=e[t];return i}_chainType(){return"sequential_chain"}static async deserialize(e){let t=[],n=e.input_variables,i=e.output_variables,a=e.chains;for(let e of a){let n=await r.l.deserialize(e);t.push(n)}return new s({chains:t,inputVariables:n,outputVariables:i})}serialize(){let e=[];for(let t of this.chains)e.push(t.serialize());return{_type:this._chainType(),input_variables:this.inputVariables,output_variables:this.outputVariables,chains:e}}}class l extends r.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),Object.defineProperty(this,"trimOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.trimOutputs=e.trimOutputs??!1,this._validateChains()}_validateChains(){for(let e of this.chains){if(1!==e.inputKeys.filter(t=>!e.memory?.memoryKeys.includes(t)??!0).length)throw Error(`Chains used in SimpleSequentialChain should all have one input, got ${e.inputKeys.length} for ${e._chainType()}.`);if(1!==e.outputKeys.length)throw Error(`Chains used in SimpleSequentialChain should all have one output, got ${e.outputKeys.length} for ${e._chainType()}.`)}}async _call(e,t){let n=e[this.inputKey],r=0;for(let i of this.chains)r+=1,n=(await i.call({[i.inputKeys[0]]:n,signal:e.signal},t?.getChild(`step_${r}`)))[i.outputKeys[0]],this.trimOutputs&&(n=n.trim()),await t?.handleText(n);return{[this.outputKey]:n}}_chainType(){return"simple_sequential_chain"}static async deserialize(e){let t=[],n=e.chains;for(let e of n){let n=await r.l.deserialize(e);t.push(n)}return new l({chains:t})}serialize(){let e=[];for(let t of this.chains)e.push(t.serialize());return{_type:this._chainType(),chains:e}}}},4118:function(e,t,n){"use strict";n.d(t,{VectorDBQAChain:function(){return a}});var r=n(5185),i=n(11612);class a extends r.l{get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"query"}),Object.defineProperty(this,"vectorstore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.vectorstore=e.vectorstore,this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.k=e.k??this.k,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw Error(`Question key ${this.inputKey} not found.`);let n=e[this.inputKey],r=await this.vectorstore.similaritySearch(n,this.k,e.filter),i=await this.combineDocumentsChain.call({question:n,input_documents:r},t?.getChild("combine_documents"));return this.returnSourceDocuments?{...i,sourceDocuments:r}:i}_chainType(){return"vector_db_qa"}static async deserialize(e,t){if(!("vectorstore"in t))throw Error("Need to pass in a vectorstore to deserialize VectorDBQAChain");let{vectorstore:n}=t;if(!e.combine_documents_chain)throw Error("VectorDBQAChain must have combine_documents_chain in serialized data");return new a({combineDocumentsChain:await r.l.deserialize(e.combine_documents_chain),k:e.k,vectorstore:n})}serialize(){return{_type:this._chainType(),combine_documents_chain:this.combineDocumentsChain.serialize(),k:this.k}}static fromLLM(e,t,n){let r=(0,i.cf)(e);return new this({vectorstore:t,combineDocumentsChain:r,...n})}}},90530:function(e,t,n){"use strict";n.r(t),n.d(t,{ChatOpenAI:function(){return b},PromptLayerChatOpenAI:function(){return y}});var r=n(51085),i=n(53853),a=n(70868),o=n(20454),s=n(43851),l=n(52664);class u extends s.qV{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}async generate(e,t,n){let r;r=Array.isArray(t)?{stop:t}:t?.timeout&&!t.signal?{...t,signal:AbortSignal.timeout(t.timeout)}:t??{};let i={tags:r.tags,metadata:r.metadata,callbacks:r.callbacks??n};delete r.tags,delete r.metadata,delete r.callbacks;let a=await l.Ye.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),s={options:r,invocation_params:this?.invocationParams(r)},u=await a?.handleChatModelStart(this.toJSON(),e,void 0,void 0,s),c=await Promise.allSettled(e.map((e,t)=>this._generate(e,{...r,promptIndex:t},u?.[t]))),p=[],d=[];await Promise.all(c.map(async(e,t)=>{if("fulfilled"!==e.status)return await u?.[t]?.handleLLMError(e.reason),Promise.reject(e.reason);{let n=e.value;return p[t]=n.generations,d[t]=n.llmOutput,u?.[t]?.handleLLMEnd({generations:[n.generations],llmOutput:n.llmOutput})}}));let h={generations:p,llmOutput:d.length?this._combineLLMOutput?.(...d):void 0};return Object.defineProperty(h,o.WH,{value:u?{runIds:u?.map(e=>e.runId)}:void 0,configurable:!0}),h}invocationParams(e){return{}}_modelType(){return"base_chat_model"}async generatePrompt(e,t,n){let r=e.map(e=>e.toChatMessages());return this.generate(r,t,n)}async call(e,t,n){let r=await this.generate([e],t,n);return r.generations[0][0].message}async callPrompt(e,t,n){let r=e.toChatMessages();return this.call(r,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){let r=new o.xk(e),i=await this.call([r],t,n);return i.content}}var c=n(76875),p=n(52516),d=n(2966);function h(e){return{name:e.name,description:e.description,parameters:(0,d.Y_)(e.schema)}}var f=n(36804),m=n(52040);function g(e){switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";default:throw Error(`Unknown message type: ${e}`)}}class b extends u{get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.openAIApiKey??(0,i.lS)("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,i.lS)("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,i.lS)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=e?.azureOpenAIApiDeploymentName??(0,i.lS)("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,i.lS)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,i.lS)("AZURE_OPENAI_BASE_PATH"),this.modelName=e?.modelName??this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stop,this.streaming=e?.streaming??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stop,stream:this.streaming,functions:e?.functions??(e?.tools?e?.tools.map(h):void 0),function_call:e?.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){let r={},i=this.invocationParams(t),s=e.map(e=>({role:g(e._getType()),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call})),l=i.stream?await new Promise((e,r)=>{let o;let l=!1,u=!1;this.completionWithRetry({...i,messages:s},{signal:t?.signal,...t?.options,adapter:a.Z,responseType:"stream",onmessage:i=>{if(i.data?.trim?.()==="[DONE]")u||l||(u=!0,e(o));else{let a=JSON.parse(i.data);if(a?.error){if(l)return;l=!0,r(a.error);return}for(let e of(o||(o={id:a.id,object:a.object,created:a.created,model:a.model,choices:[]}),a.choices??[]))if(null!=e){let r=o.choices.find(t=>t.index===e.index);r||(r={index:e.index,finish_reason:e.finish_reason??void 0},o.choices[e.index]=r),r.message||(r.message={role:e.delta?.role,content:""}),e.delta.function_call&&!r.message.function_call&&(r.message.function_call={name:"",arguments:""}),r.message.content+=e.delta?.content??"",r.message.function_call&&(r.message.function_call.name+=e.delta?.function_call?.name??"",r.message.function_call.arguments+=e.delta?.function_call?.arguments??""),n?.handleLLMNewToken(e.delta?.content??"",{prompt:t.promptIndex??0,completion:e.index})}!u&&!l&&a.choices?.every(e=>null!=e.finish_reason)&&(u=!0,e(o))}}}).catch(e=>{l||(l=!0,r(e))})}):await this.completionWithRetry({...i,messages:s},{signal:t?.signal,...t?.options}),{completion_tokens:u,prompt_tokens:c,total_tokens:p}=l.usage??{};u&&(r.completionTokens=(r.completionTokens??0)+u),c&&(r.promptTokens=(r.promptTokens??0)+c),p&&(r.totalTokens=(r.totalTokens??0)+p);let d=[];for(let e of l.choices){let t=e.message?.content??"";d.push({text:t,message:function(e){switch(e.role){case"user":return new o.xk(e.content||"");case"assistant":return new o.gY(e.content||"",{function_call:e.function_call});case"system":return new o.jN(e.content||"");default:return new o.J(e.content||"",e.role??"unknown")}}(e.message??{role:"assistant"})})}return{generations:d,llmOutput:{tokenUsage:r}}}async getNumTokensFromMessages(e){let t=0,n=0,r=0;"gpt-3.5-turbo"===(0,c._i)(this.modelName)?(n=4,r=-1):(0,c._i)(this.modelName).startsWith("gpt-4")&&(n=3,r=1);let i=await Promise.all(e.map(async e=>{let i=await this.getNumTokens(e.content),a=await this.getNumTokens(g(e._getType())),o=void 0!==e.name?r+await this.getNumTokens(e.name):0,s=i+n+a+o;return t+=s,s}));return{totalCount:t+=3,countPerMessage:i}}async completionWithRetry(e,t){if(!this.client){let e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},t=(0,f.O)(e),n=new r.Configuration({...this.clientConfig,basePath:t,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new r.OpenAIApi(n)}let n={adapter:(0,i.UG)()?void 0:a.Z,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createChatCompletion.bind(this.client),e,n).then(e=>e.data)}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}class y extends b{constructor(e){super(e),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.promptLayerApiKey=e?.promptLayerApiKey??(void 0!==m?m.env?.PROMPTLAYER_API_KEY:void 0),this.plTags=e?.plTags??[],this.returnPromptLayerId=e?.returnPromptLayerId??!1}async _generate(e,t,n){let r;let i=Date.now();r=Array.isArray(t)?{stop:t}:t?.timeout&&!t.signal?{...t,signal:AbortSignal.timeout(t.timeout)}:t??{};let a=await super._generate(e,r,n),o=Date.now(),s=e=>{let t;if("human"===e._getType())t={role:"user",content:e.content};else if("ai"===e._getType())t={role:"assistant",content:e.content};else if("function"===e._getType())t={role:"assistant",content:e.content};else if("system"===e._getType())t={role:"system",content:e.content};else if("generic"===e._getType())t={role:e.role,content:e.content};else throw Error(`Got unknown type ${e}`);return t},l=(e,t)=>{let n={...this.invocationParams(),model:this.modelName};if(t?.stop&&Object.keys(n).includes("stop"))throw Error("`stop` found in both the input and default params.");let r=e.map(e=>s(e));return r};for(let t=0;t<a.generations.length;t+=1){let n;let s=a.generations[t],u=l(e,r),c=[{content:s.text,role:g(s.message._getType())}],d=await (0,p.r)(this.caller,"langchain.PromptLayerChatOpenAI",u,this._identifyingParams(),this.plTags,c,i,o,this.promptLayerApiKey);!0===this.returnPromptLayerId&&(!0===d.success&&(n=d.request_id),s.generationInfo&&"object"==typeof s.generationInfo||(s.generationInfo={}),s.generationInfo.promptLayerRequestId=n)}return a}}},7103:function(e,t,n){"use strict";n.r(t),n.d(t,{OpenAI:function(){return A},OpenAIChat:function(){return w},PromptLayerOpenAI:function(){return O},PromptLayerOpenAIChat:function(){return _}});var r=n(51085),i=n(53853),a=n(70868);let o=(e,t)=>e.reduce((e,n,r)=>{let i=Math.floor(r/t),a=e[i]||[];return e[i]=a.concat([n]),e},[]);var s=n(23053);let l=(...e)=>s(e.join("_"));var u=n(20454);let c=new Map;class p extends u.H2{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(l(e,t))??null)}async update(e,t,n){this.cache.set(l(e,t),n)}static global(){return new p(c)}}var d=n(43851),h=n(52664),f=n(2365);class m extends d.qV{constructor({cache:e,concurrency:t,...n}){super(t?{maxConcurrency:t,...n}:n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"==typeof e?this.cache=e:e?this.cache=p.global():this.cache=void 0}async generatePrompt(e,t,n){let r=e.map(e=>e.toString());return this.generate(r,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){let t=[];for(let n=0;n<e.generations.length;n+=1){let r=e.generations[n];if(0===n)t.push({generations:[r],llmOutput:e.llmOutput});else{let n=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[r],llmOutput:n})}}return t}async _generateUncached(e,t,n){let r;let i=await h.Ye.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this?.invocationParams(t)},o=await i?.handleLLMStart(this.toJSON(),e,void 0,void 0,a);try{r=await this._generate(e,t,o?.[0])}catch(e){throw await Promise.all((o??[]).map(t=>t?.handleLLMError(e))),e}let s=this._flattenLLMResult(r);await Promise.all((o??[]).map((e,t)=>e?.handleLLMEnd(s[t])));let l=o?.map(e=>e.runId)||void 0;return Object.defineProperty(r,u.WH,{value:l?{runIds:l}:void 0,configurable:!0}),r}async generate(e,t,n){let r;if(!Array.isArray(e))throw Error("Argument 'prompts' is expected to be a string[]");r=Array.isArray(t)?{stop:t}:t?.timeout&&!t.signal?{...t,signal:AbortSignal.timeout(t.timeout)}:t??{};let i={tags:r.tags,metadata:r.metadata,callbacks:r.callbacks??n};if(delete r.tags,delete r.metadata,delete r.callbacks,!this.cache)return this._generateUncached(e,r,i);let{cache:a}=this,o=this.serialize();o.stop=r.stop??o.stop;let s=`${Object.entries(o).sort()}`,l=[],u=await Promise.all(e.map(async(e,t)=>{let n=await a.lookup(e,s);return n||l.push(t),n})),c={};if(l.length>0){let t=await this._generateUncached(l.map(t=>e[t]),r,i);await Promise.all(t.generations.map(async(t,n)=>{let r=l[n];return u[r]=t,a.update(e[r],s,t)})),c=t.llmOutput??{}}return{generations:u,llmOutput:c}}async call(e,t,n){let{generations:r}=await this.generate([e],t??{},n);return r[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){let r=(0,f.zs)(e),i=await this.call(r,t,n);return new u.gY(i)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}static async deserialize(e){let{_type:t,_model:r,...i}=e;if(r&&"base_llm"!==r)throw Error(`Cannot load LLM with model ${r}`);let a={openai:(await Promise.resolve().then(n.bind(n,7103))).OpenAI}[t];if(void 0===a)throw Error(`Cannot load  LLM with type ${t}`);return new a(i)}}class g extends m{async _generate(e,t,n){let r=await Promise.all(e.map((e,r)=>this._call(e,{...t,promptIndex:r},n).then(e=>[{text:e}])));return{generations:r}}}var b=n(76875),y=n(52516),v=n(36804);class w extends g{get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.openAIApiKey??(0,i.lS)("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,i.lS)("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,i.lS)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,i.lS)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,i.lS)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,i.lS)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,i.lS)("AZURE_OPENAI_BASE_PATH"),this.modelName=e?.modelName??this.modelName,this.prefixMessages=e?.prefixMessages??this.prefixMessages,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.maxTokens=e?.maxTokens,this.stop=e?.stop,this.streaming=e?.streaming??!1,this.n>1)throw Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,stop:e?.stop??this.stop,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){let t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async _call(e,t,n){let r=this.invocationParams(t),i=r.stream?await new Promise((i,o)=>{let s;let l=!1,u=!1;this.completionWithRetry({...r,messages:this.formatMessages(e)},{signal:t.signal,...t.options,adapter:a.Z,responseType:"stream",onmessage:e=>{if(e.data?.trim?.()==="[DONE]")u||l||(u=!0,i(s));else{let r=JSON.parse(e.data);if(r?.error){if(l)return;l=!0,o(r.error);return}for(let e of(s||(s={id:r.id,object:r.object,created:r.created,model:r.model,choices:[]}),r.choices))if(null!=e){let r=s.choices.find(t=>t.index===e.index);r||(r={index:e.index,finish_reason:e.finish_reason??void 0},s.choices.push(r)),r.message||(r.message={role:e.delta?.role,content:e.delta?.content??""}),r.message.content+=e.delta?.content??"",n?.handleLLMNewToken(e.delta?.content??"",{prompt:t.promptIndex??0,completion:e.index})}!u&&!l&&r.choices.every(e=>null!=e.finish_reason)&&(u=!0,i(s))}}}).catch(e=>{l||(l=!0,o(e))})}):await this.completionWithRetry({...r,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return i.choices[0].message?.content??""}async completionWithRetry(e,t){if(!this.client){let e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},t=(0,v.O)(e),n=new r.Configuration({...this.clientConfig,basePath:t,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new r.OpenAIApi(n)}let n={adapter:(0,i.UG)()?void 0:a.Z,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createChatCompletion.bind(this.client),e,n).then(e=>e.data)}_llmType(){return"openai"}}class _ extends w{get lc_secrets(){return{promptLayerApiKey:"PROMPTLAYER_API_KEY"}}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.plTags=e?.plTags??[],this.returnPromptLayerId=e?.returnPromptLayerId??!1,this.promptLayerApiKey=e?.promptLayerApiKey??(0,i.lS)("PROMPTLAYER_API_KEY"),!this.promptLayerApiKey)throw Error("Missing PromptLayer API key")}async completionWithRetry(e,t){if(e.stream)return super.completionWithRetry(e,t);let n=await super.completionWithRetry(e);return n}async _generate(e,t,n){let r;let i=await Promise.all(e.map(async e=>{let i=Date.now(),a=await this._call(e,t,n),o=Date.now();r=[{text:a}];let s=await (0,y.r)(this.caller,"langchain.PromptLayerOpenAIChat",[e],this._identifyingParams(),this.plTags,{text:a},i,o,this.promptLayerApiKey);return!0===this.returnPromptLayerId&&!0===s.success&&(r[0].generationInfo={promptLayerRequestId:s.request_id}),r}));return{generations:i}}}class A extends m{get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(e?.modelName?.startsWith("gpt-3.5-turbo")||e?.modelName?.startsWith("gpt-4")||e?.modelName?.startsWith("gpt-4-32k"))return new w(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-davinci-003"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.openAIApiKey??(0,i.lS)("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,i.lS)("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,i.lS)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,i.lS)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,i.lS)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,i.lS)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,i.lS)("AZURE_OPENAI_BASE_PATH"),this.modelName=e?.modelName??this.modelName,this.modelKwargs=e?.modelKwargs??{},this.batchSize=e?.batchSize??this.batchSize,this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.maxTokens=e?.maxTokens??this.maxTokens,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.bestOf=e?.bestOf??this.bestOf,this.logitBias=e?.logitBias,this.stop=e?.stop,this.streaming=e?.streaming??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:e?.stop??this.stop,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){let r=o(e,this.batchSize),i=[],s={},l=this.invocationParams(t);if(-1===l.max_tokens){if(1!==e.length)throw Error("max_tokens set to -1 not supported for multiple inputs");l.max_tokens=await (0,b.F1)({prompt:e[0],modelName:this.modelName})}for(let e=0;e<r.length;e+=1){let o=l.stream?await new Promise((i,o)=>{let s;let u=[],c=!1,p=!1;this.completionWithRetry({...l,prompt:r[e]},{signal:t.signal,...t.options,adapter:a.Z,responseType:"stream",onmessage:e=>{if(e.data?.trim?.()==="[DONE]")p||c||(p=!0,i({...s,choices:u}));else{let t=JSON.parse(e.data);if(t?.error){if(c)return;c=!0,o(t.error);return}for(let e of(s||(s={id:t.id,object:t.object,created:t.created,model:t.model}),t.choices))if(null!=e&&null!=e.index){u[e.index]||(u[e.index]={});let t=u[e.index];t.text=(t.text??"")+(e.text??""),t.finish_reason=e.finish_reason,t.logprobs=e.logprobs,n?.handleLLMNewToken(e.text??"",{prompt:Math.floor(e.index/this.n),completion:e.index%this.n})}!p&&!c&&u.every(e=>null!=e.finish_reason)&&(p=!0,i({...s,choices:u}))}}}).catch(e=>{c||(c=!0,o(e))})}):await this.completionWithRetry({...l,prompt:r[e]},{signal:t.signal,...t.options});i.push(...o.choices);let{completion_tokens:u,prompt_tokens:c,total_tokens:p}=o.usage??{};u&&(s.completionTokens=(s.completionTokens??0)+u),c&&(s.promptTokens=(s.promptTokens??0)+c),p&&(s.totalTokens=(s.totalTokens??0)+p)}let u=o(i,this.n).map(e=>e.map(e=>({text:e.text??"",generationInfo:{finishReason:e.finish_reason,logprobs:e.logprobs}})));return{generations:u,llmOutput:{tokenUsage:s}}}async completionWithRetry(e,t){if(!this.client){let e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},t=(0,v.O)(e),n=new r.Configuration({...this.clientConfig,basePath:t,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new r.OpenAIApi(n)}let n={adapter:(0,i.UG)()?void 0:a.Z,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createCompletion.bind(this.client),e,n).then(e=>e.data)}_llmType(){return"openai"}}class O extends A{get lc_secrets(){return{promptLayerApiKey:"PROMPTLAYER_API_KEY"}}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.plTags=e?.plTags??[],this.promptLayerApiKey=e?.promptLayerApiKey??(0,i.lS)("PROMPTLAYER_API_KEY"),this.returnPromptLayerId=e?.returnPromptLayerId,!this.promptLayerApiKey)throw Error("Missing PromptLayer API key")}async completionWithRetry(e,t){if(e.stream)return super.completionWithRetry(e,t);let n=await super.completionWithRetry(e);return n}async _generate(e,t,n){let r=Date.now(),i=await super._generate(e,t,n);for(let t=0;t<i.generations.length;t+=1){let n;let a=Date.now(),o={text:i.generations[t][0].text,llm_output:i.llmOutput},s=await (0,y.r)(this.caller,"langchain.PromptLayerOpenAI",[e[t]],this._identifyingParams(),this.plTags,o,r,a,this.promptLayerApiKey);!0===this.returnPromptLayerId&&(s&&!0===s.success&&(n=s.request_id),i.generations[t][0].generationInfo={...i.generations[t][0].generationInfo,promptLayerRequestId:n})}return i}}},75395:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(59380);function i(e,t){return t?.[e]||r(e)}function a(e){return Array.isArray(e)?[...e]:{...e}}n(2204);class o{get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable||this.lc_kwargs instanceof o||"object"!=typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let e={},t={},n=Object.keys(this.lc_kwargs).reduce((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e),{});for(let r=Object.getPrototypeOf(this);r;r=Object.getPrototypeOf(r))Object.assign(e,Reflect.get(r,"lc_aliases",this)),Object.assign(t,Reflect.get(r,"lc_secrets",this)),Object.assign(n,Reflect.get(r,"lc_attributes",this));for(let e in t)e in this&&void 0!==this[e]&&(n[e]=this[e]||n[e]);return{lc:1,type:"constructor",id:[...this.lc_namespace,this.constructor.name],kwargs:function(e,t,n){let r={};for(let i in e)Object.hasOwn(e,i)&&(r[t(i,n)]=e[i]);return r}(Object.keys(t).length?function(e,t){let n=a(e);for(let[e,r]of Object.entries(t)){let[t,...i]=e.split(".").reverse(),o=n;for(let e of i.reverse()){if(void 0===o[e])break;o[e]=a(o[e]),o=o[e]}void 0!==o[t]&&(o[t]={lc:1,type:"secret",id:[r]})}return n}(n,t):n,i,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:[...this.lc_namespace,this.constructor.name]}}}},2365:function(e,t,n){"use strict";function r(e,t="Human",n="AI"){let r=[];for(let i of e){let e;if("human"===i._getType())e=t;else if("ai"===i._getType())e=n;else if("system"===i._getType())e="System";else if("function"===i._getType())e="Function";else if("generic"===i._getType())e=i.role;else throw Error(`Got unsupported message type: ${i}`);let a=i.name?`${i.name}, `:"";r.push(`${e}: ${a}${i.content}`)}return r.join("\n")}n.d(t,{zs:function(){return r}})},29144:function(e,t,n){"use strict";n.d(t,{Al:function(){return s},dy:function(){return o}});var r=n(20454),i=n(75395);class a extends r.MJ{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new r.xk(this.value)]}}class o extends i.i{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:{}});let{inputVariables:t}=e;if(t.includes("stop"))throw Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){let t=this.partialVariables??{},n={};for(let[e,r]of Object.entries(t))"string"==typeof r?n[e]=r:n[e]=await r();let r={...n,...e};return r}serialize(){throw Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{let{PromptTemplate:t}=await Promise.resolve().then(n.bind(n,24201));return t.deserialize(e)}case void 0:{let{PromptTemplate:t}=await Promise.resolve().then(n.bind(n,24201));return t.deserialize({...e,_type:"prompt"})}case"few_shot":{let{FewShotPromptTemplate:t}=await Promise.resolve().then(n.bind(n,58382));return t.deserialize(e)}default:throw Error(`Invalid prompt type in config: ${e._type}`)}}}class s extends o{async formatPromptValue(e){let t=await this.format(e);return new a(t)}}},18003:function(e,t,n){"use strict";n.d(t,{gc:function(){return d},kq:function(){return p},ks:function(){return f},ov:function(){return h}});var r=n(20454),i=n(75395),a=n(29144),o=n(24201);class s extends i.i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class l extends r.MJ{constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return JSON.stringify(this.messages)}toChatMessages(){return this.messages}}class u extends s{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}class c extends a.dy{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){let t=await this.formatMessages(e);return new l(t)}}class p extends u{async format(e){return new r.xk(await this.prompt.format(e))}static fromTemplate(e){return new this(o.PromptTemplate.fromTemplate(e))}}class d extends u{async format(e){return new r.gY(await this.prompt.format(e))}static fromTemplate(e){return new this(o.PromptTemplate.fromTemplate(e))}}class h extends u{async format(e){return new r.jN(await this.prompt.format(e))}static fromTemplate(e){return new this(o.PromptTemplate.fromTemplate(e))}}class f extends c{get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let e=new Set;for(let t of this.promptMessages)for(let n of t.inputVariables)e.add(n);let t=new Set(this.partialVariables?this.inputVariables.concat(Object.keys(this.partialVariables)):this.inputVariables),n=new Set([...t].filter(t=>!e.has(t)));if(n.size>0)throw Error(`Input variables \`${[...n]}\` are not used in any of the prompt messages.`);let r=new Set([...e].filter(e=>!t.has(e)));if(r.size>0)throw Error(`Input variables \`${[...r]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async formatMessages(e){let t=await this.mergePartialAndUserVariables(e),n=[];for(let e of this.promptMessages){let r=e.inputVariables.reduce((e,n)=>{if(!(n in t))throw Error(`Missing value for input variable \`${n}\``);return e[n]=t[n],e},{}),i=await e.formatMessages(r);n=n.concat(i)}return n}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new f(t)}static fromPromptMessages(e){let t=e.reduce((e,t)=>e.concat(t instanceof f?t.promptMessages:[t]),[]),n=e.reduce((e,t)=>t instanceof f?Object.assign(e,t.partialVariables):e,Object.create(null)),r=new Set;for(let e of t)for(let t of e.inputVariables)t in n||r.add(t);return new f({inputVariables:[...r],promptMessages:t,partialVariables:n})}}},58382:function(e,t,n){"use strict";n.d(t,{FewShotPromptTemplate:function(){return o}});var r=n(29144),i=n(51203),a=n(24201);class o extends r.Al{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),void 0!==this.examples&&void 0!==this.exampleSelector)throw Error("Only one of 'examples' and 'example_selector' should be provided");if(void 0===this.examples&&void 0===this.exampleSelector)throw Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,i.af)(this.prefix+this.suffix,this.templateFormat,e)}}_getPromptType(){return"few_shot"}async getExamples(e){if(void 0!==this.examples)return this.examples;if(void 0!==this.exampleSelector)return this.exampleSelector.selectExamples(e);throw Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new o(t)}async format(e){let t=await this.mergePartialAndUserVariables(e),n=await this.getExamples(t),r=await Promise.all(n.map(e=>this.examplePrompt.format(e))),a=[this.prefix,...r,this.suffix].join(this.exampleSeparator);return(0,i.SM)(a,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw Error("Serializing an example selector is not currently supported");if(void 0!==this.outputParser)throw Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){let t;let{example_prompt:n}=e;if(!n)throw Error("Missing example prompt");let r=await a.PromptTemplate.deserialize(n);if(Array.isArray(e.examples))t=e.examples;else throw Error("Invalid examples format. Only list or string are supported.");return new o({inputVariables:e.input_variables,examplePrompt:r,examples:t,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}},20865:function(e,t,n){"use strict";n.d(t,{gc:function(){return i.gc},ks:function(){return i.ks},kq:function(){return i.kq},Pf:function(){return r.PromptTemplate},ov:function(){return i.ov}}),n(29144);var r=n(24201);n(58382);var i=n(18003);n(51203)},24201:function(e,t,n){"use strict";n.d(t,{PromptTemplate:function(){return a}});var r=n(29144),i=n(51203);class a extends r.Al{constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,i.af)(this.template,this.templateFormat,e)}}_getPromptType(){return"prompt"}async format(e){let t=await this.mergePartialAndUserVariables(e);return(0,i.SM)(this.template,this.templateFormat,t)}static fromExamples(e,t,n,r="\n\n",i=""){let o=[i,...e,t].join(r);return new a({inputVariables:n,template:o})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){let r=new Set;return(0,i.$M)(e,t).forEach(e=>{"variable"===e.type&&r.add(e.name)}),new a({inputVariables:[...r],templateFormat:t,template:e,...n})}async partial(e){let t={...this};return t.inputVariables=this.inputVariables.filter(t=>!(t in e)),t.partialVariables={...this.partialVariables??{},...e},new a(t)}serialize(){if(void 0!==this.outputParser)throw Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw Error("Prompt template must have a template");let t=new a({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format});return t}}},51203:function(e,t,n){"use strict";n.d(t,{$M:function(){return s},SM:function(){return o},af:function(){return l}});let r=e=>{let t=e.split(""),n=[],r=(e,n)=>{for(let r=n;r<t.length;r+=1)if(e.includes(t[r]))return r;return -1},i=0;for(;i<t.length;)if("{"===t[i]&&i+1<t.length&&"{"===t[i+1])n.push({type:"literal",text:"{"}),i+=2;else if("}"===t[i]&&i+1<t.length&&"}"===t[i+1])n.push({type:"literal",text:"}"}),i+=2;else if("{"===t[i]){let e=r("}",i);if(e<0)throw Error("Unclosed '{' in template.");n.push({type:"variable",name:t.slice(i+1,e).join("")}),i=e+1}else if("}"===t[i])throw Error("Single '}' in template.");else{let e=r("{}",i),a=(e<0?t.slice(i):t.slice(i,e)).join("");n.push({type:"literal",text:a}),i=e<0?t.length:e}return n},i={"f-string":(e,t)=>r(e).reduce((e,n)=>{if("variable"===n.type){if(n.name in t)return e+t[n.name];throw Error(`Missing value for input ${n.name}`)}return e+n.text},""),jinja2:(e,t)=>""},a={"f-string":r,jinja2:e=>[]},o=(e,t,n)=>i[t](e,n),s=(e,t)=>a[t](e),l=(e,t,n)=>{if(!(t in i)){let e=Object.keys(i);throw Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${e}`)}try{let r=n.reduce((e,t)=>(e[t]="foo",e),{});o(e,t,r)}catch(e){throw Error(`Invalid prompt schema: ${e.message}`)}}},20454:function(e,t,n){"use strict";n.d(t,{H2:function(){return p},J:function(){return u},MJ:function(){return c},WH:function(){return i},gY:function(){return s},jN:function(){return l},xk:function(){return o}});var r=n(75395);let i="__run";class a extends r.i{get text(){return this.content}constructor(e,t){"string"==typeof e&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class o extends a{_getType(){return"human"}}class s extends a{_getType(){return"ai"}}class l extends a{_getType(){return"system"}}class u extends a{constructor(e,t){"string"==typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}}class c extends r.i{}class p{}},73291:function(e,t,n){"use strict";n.d(t,{bI:function(){return a}});var r=n(75395);class i extends r.i{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}}class a extends i{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw Error("_type not implemented")}}},84456:function(e,t,n){"use strict";n.d(t,{s9:function(){return s}});class r{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}n(49790);var i=n(75395);class a extends i.i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers"]})}}class o extends a{constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=e?.chunkSize??this.chunkSize,this.chunkOverlap=e?.chunkOverlap??this.chunkOverlap,this.keepSeparator=e?.keepSeparator??this.keepSeparator,this.lengthFunction=e?.lengthFunction??(e=>e.length),this.chunkOverlap>=this.chunkSize)throw Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(e,t={}){return this.splitDocuments(e,t)}splitOnSeparator(e,t){let n;if(t){if(this.keepSeparator){let r=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");n=e.split(RegExp(`(?=${r})`))}else n=e.split(t)}else n=e.split("");return n.filter(e=>""!==e)}async createDocuments(e,t=[],n={}){let i=t.length>0?t:Array(e.length).fill({}),{chunkHeader:a="",chunkOverlapHeader:o="(cont'd) ",appendChunkOverlapHeader:s=!1}=n,l=[];for(let t=0;t<e.length;t+=1){let n=e[t],u=1,c=null;for(let e of(await this.splitText(n))){let p=a,d=0;if(c){let t=n.indexOf(e),r=n.indexOf(c)+await this.lengthFunction(c),i=n.slice(r,t);d=(i.match(/\n/g)||[]).length,s&&(p+=o)}u+=d;let h=(e.match(/\n/g)||[]).length,f=i[t].loc&&"object"==typeof i[t].loc?{...i[t].loc}:{};f.lines={from:u,to:u+h};let m={...i[t],loc:f};p+=e,l.push(new r({pageContent:p,metadata:m})),u+=h,c=e}}return l}async splitDocuments(e,t={}){let n=e.filter(e=>void 0!==e.pageContent),r=n.map(e=>e.pageContent),i=n.map(e=>e.metadata);return this.createDocuments(r,i,t)}joinDocs(e,t){let n=e.join(t).trim();return""===n?null:n}async mergeSplits(e,t){let n=[],r=[],i=0;for(let a of e){let e=await this.lengthFunction(a);if(i+e+(r.length>0?t.length:0)>this.chunkSize&&(i>this.chunkSize&&console.warn(`Created a chunk of size ${i}, +
which is longer than the specified ${this.chunkSize}`),r.length>0)){let a=this.joinDocs(r,t);for(null!==a&&n.push(a);i>this.chunkOverlap||i+e>this.chunkSize&&i>0;)i-=await this.lengthFunction(r[0]),r.shift()}r.push(a),i+=e}let a=this.joinDocs(r,t);return null!==a&&n.push(a),n}}class s extends o{constructor(e){super(e),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:["\n\n","\n"," ",""]}),this.separators=e?.separators??this.separators,this.keepSeparator=e?.keepSeparator??!0}async _splitText(e,t){let n;let r=[],i=t[t.length-1];for(let r=0;r<t.length;r+=1){let a=t[r];if(""===a){i=a;break}if(e.includes(a)){i=a,n=t.slice(r+1);break}}let a=this.splitOnSeparator(e,i),o=[],s=this.keepSeparator?"":i;for(let e of a)if(await this.lengthFunction(e)<this.chunkSize)o.push(e);else{if(o.length){let e=await this.mergeSplits(o,s);r.push(...e),o=[]}if(n){let t=await this._splitText(e,n);r.push(...t)}else r.push(e)}if(o.length){let e=await this.mergeSplits(o,s);r.push(...e)}return r}async splitText(e){return this._splitText(e,this.separators)}static fromLanguage(e,t){return new s({...t,separators:s.getSeparatorsForLanguage(e)})}static getSeparatorsForLanguage(e){if("cpp"===e)return["\nclass ","\nvoid ","\nint ","\nfloat ","\ndouble ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("go"===e)return["\nfunc ","\nvar ","\nconst ","\ntype ","\nif ","\nfor ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("java"===e)return["\nclass ","\npublic ","\nprotected ","\nprivate ","\nstatic ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("js"===e)return["\nfunction ","\nconst ","\nlet ","\nvar ","\nclass ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\ndefault ","\n\n","\n"," ",""];if("php"===e)return["\nfunction ","\nclass ","\nif ","\nforeach ","\nwhile ","\ndo ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("proto"===e)return["\nmessage ","\nservice ","\nenum ","\noption ","\nimport ","\nsyntax ","\n\n","\n"," ",""];if("python"===e)return["\nclass ","\ndef ","\n	def ","\n\n","\n"," ",""];else if("rst"===e)return["\n===\n","\n---\n","\n***\n","\n.. ","\n\n","\n"," ",""];else if("ruby"===e)return["\ndef ","\nclass ","\nif ","\nunless ","\nwhile ","\nfor ","\ndo ","\nbegin ","\nrescue ","\n\n","\n"," ",""];else if("rust"===e)return["\nfn ","\nconst ","\nlet ","\nif ","\nwhile ","\nfor ","\nloop ","\nmatch ","\nconst ","\n\n","\n"," ",""];else if("scala"===e)return["\nclass ","\nobject ","\ndef ","\nval ","\nvar ","\nif ","\nfor ","\nwhile ","\nmatch ","\ncase ","\n\n","\n"," ",""];else if("swift"===e)return["\nfunc ","\nclass ","\nstruct ","\nenum ","\nif ","\nfor ","\nwhile ","\ndo ","\nswitch ","\ncase ","\n\n","\n"," ",""];else if("markdown"===e)return["\n## ","\n### ","\n#### ","\n##### ","\n###### ","```\n\n","\n\n***\n\n","\n\n---\n\n","\n\n___\n\n","\n\n","\n"," ",""];else if("latex"===e)return["\n\\chapter{","\n\\section{","\n\\subsection{","\n\\subsubsection{","\n\\begin{enumerate}","\n\\begin{itemize}","\n\\begin{description}","\n\\begin{list}","\n\\begin{quote}","\n\\begin{quotation}","\n\\begin{verse}","\n\\begin{verbatim}","\n\\begin{align}","$$","$","\n\n","\n"," ",""];else if("html"===e)return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];else if("sol"===e)return["\npragma ","\nusing ","\ncontract ","\ninterface ","\nlibrary ","\nconstructor ","\ntype ","\nfunction ","\nevent ","\nmodifier ","\nerror ","\nstruct ","\nenum ","\nif ","\nfor ","\nwhile ","\ndo while ","\nassembly ","\n\n","\n"," ",""];else throw Error(`Language ${e} is not supported.`)}}},76893:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(84153),i=n(35853);let a=[400,401,403,404,405,406,407,408,409];class o{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;let t=i.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>r(()=>e(...t).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError")||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status;if(t&&a.includes(+t))throw e;let n=e?.response?.data;if(n?.error?.code==="insufficient_quota"){let e=Error(n?.error?.message);throw e.name="InsufficientQuotaError",e}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((t,n)=>{e.signal?.addEventListener("abort",()=>{n(Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(e=>e.ok?e:Promise.reject(e)))}}},70868:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(65953);let i="text/event-stream";async function a(e,t){let n=e.getReader();for(;;){let e=await n.read();if(e.done){t(new Uint8Array,!0);break}t(e.value)}}function o(){return{data:"",event:"",id:"",retry:void 0}}function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l(e){return Array.isArray(e)}function u(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}}async function c(e){let t=function(e){var t,n,r;let a=new Headers(e.headers);if(e.auth){let t=e.auth.username||"",n=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";a.set("Authorization",`Basic ${btoa(`${t}:${n}`)}`)}let o=e.method.toUpperCase(),c={headers:a,method:o};if("GET"!==o&&"HEAD"!==o){c.body=e.data,t=c.body,"[object FormData]"===toString.call(t)&&("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document&&a.delete("Content-Type")}"string"==typeof c.body&&(c.body=new TextEncoder().encode(c.body)),e.mode&&(c.mode=e.mode),e.cache&&(c.cache=e.cache),e.integrity&&(c.integrity=e.integrity),e.redirect&&(c.redirect=e.redirect),e.referrer&&(c.referrer=e.referrer),e.timeout&&e.timeout>0&&(c.signal=AbortSignal.timeout(e.timeout)),e.signal&&(c.signal=e.signal),void 0!==e.withCredentials&&(c.credentials=e.withCredentials?"include":"omit"),"stream"===e.responseType&&c.headers.set("Accept",i);let p=(n=e.baseURL,r=e.url,n&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)?r?n.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):n:r),d=function(e,t,n){if(!t)return e;if(n)r=n(t);else if("[object URLSearchParams]"===toString.call(t))r=t.toString();else{var r,i=[];u(t,function(e,t){null!=e&&(l(e)?t=`${t}[]`:e=[e],u(e,function(e){var n,r;(n=e,"[object Date]"===toString.call(n))?e=e.toISOString():null!==(r=e)&&"object"==typeof r&&(e=JSON.stringify(e)),i.push(`${s(t)}=${s(e)}`)}))}),r=i.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}(p,e.params,e.paramsSerializer);return new Request(d,c)}(e),n=await p(t,e);return new Promise((t,r)=>{n instanceof Error?r(n):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,r,n):function(e,t,n){let{validateStatus:r}=n.config;!n.status||!r||r(n.status)?e(n):t(d(`Request failed with status code ${n.status} and body ${"string"==typeof n.data?n.data:function(e){try{return JSON.stringify(e)}catch(t){return e}}(n.data)}`,n.config,null,n.request,n))}(t,r,n)})}async function p(e,t){let n;try{n=await fetch(e)}catch(n){if(n&&"AbortError"===n.name)return d("Request aborted",t,"ECONNABORTED",e);if(n&&"TimeoutError"===n.name)return d("Request timeout",t,"ECONNABORTED",e);return d("Network Error",t,"ERR_NETWORK",e)}let r={};n.headers.forEach((e,t)=>{r[t]=e});let s={ok:n.ok,status:n.status,statusText:n.statusText,headers:r,config:t,request:e};if(n.status>=200&&204!==n.status){if("stream"===t.responseType){var l;let e,r,u,c;let p=n.headers.get("content-type");if(!p?.startsWith(i)){if(n.status>=400)return p?.startsWith("application/json")?(s.data=await n.json(),s):(s.data=await n.text(),s);throw Error(`Expected content-type to be ${i}, Actual: ${p}`)}await a(n.body,(l=function(e,t,n){let r=o(),i=new TextDecoder;return function(t,n,a){if(a){var s;""===(s=r).data&&""===s.event&&""===s.id&&void 0===s.retry||(e?.(r),r=o());return}if(0===t.length)e?.(r),r=o();else if(n>0){let e=i.decode(t.subarray(0,n)),a=n+(32===t[n+1]?2:1),o=i.decode(t.subarray(a));switch(e){case"data":r.data=r.data?r.data+"\n"+o:o;break;case"event":r.event=o;break;case"id":break;case"retry":{let e=parseInt(o,10);Number.isNaN(e)}}}}}(t.onmessage),c=!1,function(t,n){if(n){l(t,0,!0);return}void 0===e?(e=t,r=0,u=-1):e=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(e,t);let i=e.length,a=0;for(;r<i;){c&&(10===e[r]&&(a=++r),c=!1);let t=-1;for(;r<i&&-1===t;++r)switch(e[r]){case 58:-1===u&&(u=r-a);break;case 13:c=!0;case 10:t=r}if(-1===t)break;l(e.subarray(a,t),u),a=r,u=-1}a===i?e=void 0:0!==a&&(e=e.subarray(a),r-=a)}))}else switch(t.responseType){case"arraybuffer":s.data=await n.arrayBuffer();break;case"blob":s.data=await n.blob();break;case"json":s.data=await n.json();break;case"formData":s.data=await n.formData();break;default:s.data=await n.text()}}return s}function d(e,t,n,i,a){if(r.Z.AxiosError&&"function"==typeof r.Z.AxiosError)return new r.Z.AxiosError(e,r.Z.AxiosError[n],t,i,a);let o=Error(e);return o.config=t,n&&(o.code=n),o.request=i,o.response=a,o.isAxiosError=!0,o.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},o}},36804:function(e,t,n){"use strict";function r(e){let{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,basePath:a}=e;if(r&&i&&t)return`${i}/${t}`;if(r){if(!n)throw Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${t}`}return a}n.d(t,{O:function(){return r}})},53853:function(e,t,n){"use strict";let r;n.d(t,{UG:function(){return u},lS:function(){return d},sA:function(){return p}});var i=n(52040);let a=()=>"undefined"!=typeof window&&void 0!==window.document,o=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,s=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),l=()=>"undefined"!=typeof Deno,u=()=>void 0!==i&&void 0!==i.versions&&void 0!==i.versions.node&&!l(),c=()=>a()?"browser":u()?"node":o()?"webworker":s()?"jsdom":l()?"deno":"other";async function p(){if(void 0===r){let e=c();r={library:"langchain-js",runtime:e}}return r}function d(e){try{return void 0!==i?i.env?.[e]:void 0}catch(e){return}}},52516:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});let r=async(e,t,n,r,i,a,o,s,l)=>{let u=await e.call(fetch,"https://api.promptlayer.com/track-request",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({function_name:t,provider:"langchain",args:n,kwargs:r,tags:i,request_response:a,request_start_time:Math.floor(o/1e3),request_end_time:Math.floor(s/1e3),api_key:l})});return u.json()}},49790:function(e,t,n){"use strict";n.d(t,{b:function(){return h}});var r,i,a,o=n(216),s=Object.defineProperty,l=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let n=e.bpe_ranks.split("\n").filter(Boolean).reduce((e,t)=>{let[n,r,...i]=t.split(" "),a=Number.parseInt(r,10);return i.forEach((t,n)=>e[t]=a+n),e},{});for(let[e,t]of Object.entries(n)){let n=o.toByteArray(e);this.rankMap.set(n.join(","),t),this.textMap.set(t,n)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((e,[t,n])=>(e[n]=this.textEncoder.encode(t),e),{})}encode(e,t=[],n="all"){let r=RegExp(this.patStr,"ug"),i=l.specialTokenRegex(Object.keys(this.specialTokens)),a=[],o=new Set("all"===t?Object.keys(this.specialTokens):t),s=new Set("all"===n?Object.keys(this.specialTokens).filter(e=>!o.has(e)):n);if(s.size>0){let t=l.specialTokenRegex([...s]),n=e.match(t);if(null!=n)throw Error(`The text contains a special token that is not allowed: ${n[0]}`)}let u=0;for(;;){let t=null,n=u;for(;i.lastIndex=n,!(null==(t=i.exec(e))||o.has(t[0]));)n=t.index+1;let s=t?.index??e.length;for(let t of e.substring(u,s).matchAll(r)){let e=this.textEncoder.encode(t[0]),n=this.rankMap.get(e.join(","));if(null!=n){a.push(n);continue}a.push(...function(e,t){return 1===e.length?[t.get(e.join(","))]:(function(e,t){let n=Array.from({length:e.length},(e,t)=>({start:t,end:t+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){let a=e.slice(n[i].start,n[i+1].end),o=t.get(a.join(","));null!=o&&(null==r||o<r[0])&&(r=[o,i])}if(null!=r){let e=r[1];n[e]={start:n[e].start,end:n[e+1].end},n.splice(e+1,1)}else break}return n})(e,t).map(n=>t.get(e.slice(n.start,n.end).join(","))).filter(e=>null!=e)}(e,this.rankMap))}if(null==t)break;let l=this.specialTokens[t[0]];a.push(l),u=t.index+t[0].length}return a}decode(e){let t=[],n=0;for(let r=0;r<e.length;++r){let i=e[r],a=this.textMap.get(i)??this.inverseSpecialTokens[i];null!=a&&(t.push(a),n+=a.length)}let r=new Uint8Array(n),i=0;for(let e of t)r.set(e,i),i+=e.length;return this.textDecoder.decode(r)}};r="symbol"!=typeof(a="specialTokenRegex")?a+"":a,i=e=>RegExp(e.map(e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")).join("|"),"g"),r in l?s(l,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[r]=i;var u=n(76893);let c={},p=new u.L({});async function d(e,t){return e in c||(c[e]=p.fetch(`https://tiktoken.pages.dev/js/${e}.json`,{signal:t?.signal}).then(e=>e.json()).catch(t=>{throw delete c[e],t})),new l(await c[e],t?.extendedSpecialTokens)}async function h(e,t){return d(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"text-embedding-ada-002":return"cl100k_base";default:throw Error("Unknown model")}}(e),t)}},90309:function(e,t,n){"use strict";n.d(t,{Pp:function(){return r.OpenAI}});var r=n(7103)},94397:function(e,t,n){"use strict";n.d(t,{Pf:function(){return r.Pf}});var r=n(20865)},57675:function(e,t,n){"use strict";n.d(t,{s9:function(){return r.s9}});var r=n(84456)},2966:function(e,t,n){"use strict";n.d(t,{Y_:function(){return I}});let r={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",mapStrategy:"entries",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email"},i=e=>"string"==typeof e?{...r,name:e}:{...r,...e};var a=n(92391);function o(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function s(e,t,n,r,i){e[t]=n,o(e,t,r,i)}let l=(e,t)=>A(e.innerType._def,t),u=(e,t)=>{let n={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target&&s(n,"minimum",r.value,r.message,t);break;case"max":"jsonSchema7"===t.target&&s(n,"maximum",r.value,r.message,t)}return n},c=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,p={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uuid:"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$",ipv4:"^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$",ipv6:"^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$"};function d(e,t){let n={type:"string"};function r(e){return"escape"===t.patternStrategy?h(e):e}if(e.checks)for(let i of e.checks)switch(i.kind){case"min":s(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t);break;case"max":s(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":f(n,"email",i.message,t);break;case"format:idn-email":f(n,"idn-email",i.message,t);break;case"pattern:zod":m(n,p.email,i.message,t)}break;case"url":f(n,"uri",i.message,t);break;case"uuid":f(n,"uuid",i.message,t);break;case"regex":m(n,i.regex.source,i.message,t);break;case"cuid":m(n,p.cuid,i.message,t);break;case"cuid2":m(n,p.cuid2,i.message,t);break;case"startsWith":m(n,"^"+r(i.value),i.message,t);break;case"endsWith":m(n,r(i.value)+"$",i.message,t);break;case"datetime":f(n,"date-time",i.message,t);break;case"length":s(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,i.value):i.value,i.message,t),s(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,i.value):i.value,i.message,t);break;case"includes":m(n,r(i.value),i.message,t);break;case"ip":"v6"!==i.version&&f(n,"ipv4",i.message,t),"v4"!==i.version&&f(n,"ipv6",i.message,t);break;case"emoji":m(n,p.emoji,i.message,t);break;case"ulid":m(n,p.ulid,i.message,t)}return n}let h=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),f=(e,t,n,r)=>{e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):s(e,"format",t,n,r)},m=(e,t,n,r)=>{e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:t,...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):s(e,"pattern",t,n,r)};function g(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===a.pA.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:A(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}}),{}),additionalProperties:!1};let n={type:"object",additionalProperties:A(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===a.pA.ZodString&&e.keyType._def.checks?.length){let r=Object.entries(d(e.keyType._def,t)).reduce((e,[t,n])=>"type"===t?e:{...e,[t]:n},{});return{...n,propertyNames:r}}return e.keyType?._def.typeName===a.pA.ZodEnum?{...n,propertyNames:{enum:e.keyType._def.values}}:n}let b={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},y=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>A(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0},v=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return A(e.innerType._def,t);let n=A(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},w=(e,t)=>{if("input"===t.pipeStrategy)return A(e.in._def,t);let n=A(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=A(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(e=>void 0!==e)}},_=(e,t)=>A(e.innerType._def,t);function A(e,t,n=!1){let r=t.seen.get(e);if(r&&!n){let e=O(r,t);if(void 0!==e)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=x(e,e.typeName,t);return a&&P(e,t,a),i.jsonSchema=a,a}let O=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:0===e.path.length?"":1===e.path.length?`${e.path[0]}/`:e.path.join("/")};case"relative":return{$ref:E(t.currentPath,e.path)};case"none":if(e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return;case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return e.jsonSchema}},E=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},x=(e,t,n)=>{switch(t){case a.pA.ZodString:return d(e,n);case a.pA.ZodNumber:return function(e,t){let n={type:"number"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"int":n.type="integer",o(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?s(n,"minimum",r.value,r.message,t):s(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),s(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?s(n,"maximum",r.value,r.message,t):s(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),s(n,"maximum",r.value,r.message,t));break;case"multipleOf":s(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case a.pA.ZodObject:return function(e,t){let n={type:"object",...Object.entries(e.shape()).reduce((e,[n,r])=>{if(void 0===r||void 0===r._def)return e;let i=A(r._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===i?e:{properties:{...e.properties,[n]:i},required:r.isOptional()?e.required:[...e.required,n]}},{properties:{},required:[]}),additionalProperties:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:A(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}(e,n);case a.pA.ZodBigInt:return function(e,t){let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?s(n,"minimum",r.value,r.message,t):s(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),s(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?s(n,"maximum",r.value,r.message,t):s(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),s(n,"maximum",r.value,r.message,t));break;case"multipleOf":s(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case a.pA.ZodBoolean:return{type:"boolean"};case a.pA.ZodDate:return"integer"==n.dateStrategy?u(e,n):{type:"string",format:"date-time"};case a.pA.ZodUndefined:return{not:{}};case a.pA.ZodNull:return"openApi3"===n.target?{enum:["null"],nullable:!0}:{type:"null"};case a.pA.ZodArray:return function(e,t){let n={type:"array"};return e.type?._def?.typeName!==a.pA.ZodAny&&(n.items=A(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&s(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&s(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(s(n,"minItems",e.exactLength.value,e.exactLength.message,t),s(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case a.pA.ZodUnion:case a.pA.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return y(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in b&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=b[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return y(e,t)}(e,n);case a.pA.ZodIntersection:return function(e,t){let n=[A(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),A(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return n.forEach(e=>{if(c(e))i.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:n,...r}=e;t=r}else r=void 0;i.push(t)}}),i.length?{allOf:i,...r}:void 0}(e,n);case a.pA.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>A(e._def,{...n,currentPath:[...n.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:A(e.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>A(e._def,{...n,currentPath:[...n.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case a.pA.ZodRecord:return g(e,n);case a.pA.ZodLiteral:return function(e,t){let n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case a.pA.ZodEnum:return{type:"string",enum:e.values};case a.pA.ZodNativeEnum:return function(e){let t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]),r=n.map(e=>t[e]),i=Array.from(new Set(r.map(e=>typeof e)));return{type:1===i.length?"string"===i[0]?"string":"number":["string","number"],enum:r}}(e);case a.pA.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:b[e.innerType._def.typeName],nullable:!0}:{type:[b[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let n=A(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&{...n,nullable:!0}}let n=A(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case a.pA.ZodOptional:return v(e,n);case a.pA.ZodMap:return function(e,t){if("record"===t.mapStrategy)return g(e,t);let n=A(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=A(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}(e,n);case a.pA.ZodSet:return function(e,t){let n=A(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]}),r={type:"array",uniqueItems:!0,items:n};return e.minSize&&s(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&s(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,n);case a.pA.ZodLazy:return A(e.getter()._def,n);case a.pA.ZodPromise:return A(e.type._def,n);case a.pA.ZodNaN:case a.pA.ZodNever:return{not:{}};case a.pA.ZodEffects:return"input"===n.effectStrategy?A(e.schema._def,n):{};case a.pA.ZodAny:case a.pA.ZodUnknown:return{};case a.pA.ZodDefault:return{...A(e.innerType._def,n),default:e.defaultValue()};case a.pA.ZodBranded:return A(e.type._def,n);case a.pA.ZodReadonly:return _(e,n);case a.pA.ZodCatch:return l(e,n);case a.pA.ZodPipeline:return w(e,n);case a.pA.ZodFunction:case a.pA.ZodVoid:case a.pA.ZodSymbol:default:return}},P=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),S=e=>{let t=i(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}},I=(e,t)=>{let n=S(t),r="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:A(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??{}}),{}):void 0,i="string"==typeof t?t:t?.name,a=A(e._def,void 0===i?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??{},o=void 0===i?r?{...a,[n.definitionPath]:r}:a:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return"jsonSchema7"===n.target?o.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o}},51095:function(e){"use strict";e.exports=JSON.parse('{"name":"openai","version":"3.3.0","description":"Node.js library for the OpenAI API","repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"keywords":["openai","open","ai","gpt-3","gpt3"],"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}}]);